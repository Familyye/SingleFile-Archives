<!DOCTYPE html> <html class=no-js style><!--
 Page saved with SingleFile 
 url: https://blog.xzr.moe/archives/313/ 
 saved date: Thu May 23 2024 16:29:42 GMT+0800 (中国标准时间)
--><meta charset=utf-8>
<meta name=renderer content=webkit>
<meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Horizon Kernel for Oneplus 8 series 过气版本补档 - LibXZR 的小本本</title>
<meta name=keywords content=blog,typecho>
<meta name=description content="Stay simple stay naive">
<style>:root{--sf-img-2: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB62zaNqN6jTBtTieIJEELl8EZIIU4wOT+delfsRfDqx8c/F9r/VIVuLHQbU6gIXGVebcqx5HoCS31QV7L4Z+KR+Iv7cNhAI0itNGgvrGJv4nYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeL/Ez9iXx/wDD3S5dTtvsfiWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Dtf2itV0D9q678D6lMt94Z1WSG0gQqN1rO8a7CpHUMxAIP8AeyMYIPzh+2T8PbPwF8Y7ptPiWCz1SIXvlIMKkhYh8D3IDfVjXPleZYmpUhQxiV5x5otdV2fmdWb5VhaVKeIwLdoS5ZJ9H3XkaH7EXxGsfAvxfNjqkyW9jr1qdPE0hwqTblaPJ9CQV+riuq/aG/Zj8deF/iVe+LvA9pfaja3k5u1k0lm+1WszffwFO4gkkgr6kHHf5R6V758Pf21fiH4F0uHTZ57bxBZwqEjbUVYzIo6DzAQWH+8Cfet8bgsTDE/XcHZtq0ovZo5sBj8JUwn1HHXST5oyjumd1+zT+zV4yvfiTZeO/Hlrd6TYaZOL7dqrEXV3OvKZVjuABwxLdcADOSR5v+198RrX4h/F+6awkEtlpsQs1kU5DOGJcg+2Qv1U1J8Sf2w/H3xE0+TT/Pg0SxkG11sAwkcdwXJOP+AgH3rwyjBYLEzxP1zGWTStGK2SDH4/CU8J9RwN5KT5pSlu2f/Z");--sf-img-3: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==");--sf-img-4: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADX0lEQVRYw+2XS0hqURSGf+VYEQ2OZ6sIiYKRFDoJgpAiSKIImkZQ0CBqJlSDpkGjRhEFSWCTKJOEBgVNGkRgRFJBD7EgB0L0QvERYS/PWXd2uXL1ejS5ceGu4eI/e31s9v+fvRVERPjGUuKb698GkCQJRAQigiRJfwcgEAhgbGwMdrsdPM+D4zioVCoIgoDu7m4sLS3h7e1N/oIks4LBIHV2dhJjjCYnJ8nv99PHxweJokiiKFI6naaNjQ3q6ekhg8FAh4eHstaVBTA/P088z9PCwgKlUqmCep/PRzzPk8fj+TrA6uoqabVaOj09pWJqb2+PGGMUDodLBwiFQqTRaOjk5KTgwHg8TvF4PKs3NTVFfX19pQP09vbSzMxMVs/r9ZLL5crqZTIZmpubI6fTmdWPRqOk0+no+fk57wwu3+G8u7vDwcEBvF5vVl8QBBgMBuzv72N7exv39/cgIrhcLqTT6SytRqOBzWbD+fk52tracs7JC+D3+9Ha2oqampqsfldXFwAgnU7j6ekJFosFer0ejDEwxn5bp7GxEZeXl8UDxGIxNDQ05LVvdXU1+vv7C9pcoVDg/f29+CBSKpV4eXn5ctRmMhnU1tYWD2AymXBxcfFlgKOjI5jN5uKTMJFIEGOMzs7OqNQKhUKk1+spk8mUZsPZ2Vlqbm6WlX65amRkhCYmJkrPAVEUaXR0lIxGI62vr5MkSbIGRyIRGh8fJ61WSw8PD1+LYkmSaHd3lxhjdH19LfvHpVar6fb2tqBWKcdGTU1N4DgOdXV1f9SKoohIJAKr1Qqj0YhYLFae+0AqlYJOp8PW1hY8Hg98Pl9O3dXVFdxuN4LBIFpaWmS5SCnXyzzPI5lM4vHxEVVVVTl1giCA4zisrKxApVIhmUyWB0ChUCAej6O9vR2Li4uwWCw5dYwxuN1uDA0N/fyuLACVlZVIJBKor6+Hw+EAz/N5dWtra7DZbLIBODkAJpMJn5+fiEajWF5e/qPW4XD8GnLlu5Ta7Xbs7OwUFcNarbY8OwAAAwMDmJ6ehiAICIfDOTWvr684Pj5GRUUFAoEAhoeHC58vuU8zURThdDqxubmJjo4OqNVqEBGUSiU4jgMRQa1Ww2q14ubmBmazGYODg+UD+NWSHMehXKX4/zj9boAfUTD0/0rF1CEAAAAASUVORK5CYII=");--sf-img-7: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==");--sf-img-10: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==");--sf-img-11: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==");--sf-img-14: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==")}</style><style>::selection{background:rgba(0,149,255,.1)}*{font-family:helvetica neue,Helvetica,Arial,pingfang sc,hiragino sans gb,heiti sc,microsoft yahei,wenquanyi micro hei,sans-serif}a{color:#444444b5;text-decoration:none}a:hover,a:active{color:#444}pre,code{background:#f3f3f3;font-family:Menlo,Monaco,Consolas,lucida console,courier new,monospace;font-size:.92857em}code{padding:2px 4px;color:#b94a48}pre{padding:8px;overflow:auto}pre code{display:block;padding:3px;color:#444}input[type=text],input[type=email],input[type=url],textarea{padding:5px;border:1px solid #e9e9e9;width:100%;border-radius:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}textarea{resize:vertical}.post-content a{border-bottom:1px solid #eee}.post-meta a:hover,.post-content a:hover,.widget a:hover,.comment-content a:hover{border-bottom-color:transparent}#header{padding-top:35px}.title{font-size:2em;font-weight:200;margin-top:10px;text-align:center;letter-spacing:8px}@media screen and (min-width:760px){.title{font-size:2.5em;font-weight:200;margin-top:10px;text-align:center;letter-spacing:8px}}.description{margin:.4em 0 0;color:#919191;text-align:center;font-size:1em;position:relative;top:-1em}@media screen and (min-width:760px){.description{margin:.4em 0 0;color:#919191;text-align:center;font-size:1.5em;position:relative;top:-1em}}@media screen and (min-width:760px){nav{line-height:2em;font-size:1em;font-weight:200;text-align:center;white-space:nowrap;overflow-x:auto;overflow-y:hidden;z-index:150;-webkit-overflow-scrolling:touch}}nav{white-space:nowrap;overflow-x:auto;overflow-y:hidden;z-index:150;-webkit-overflow-scrolling:touch}nav a{margin-right:-1px;padding:0 10px;border-bottom:none;line-height:32px;color:#444444b5;font-size:1.8em}.search{position:relative;display:inline-block}.search .text{margin:0;padding:0;border:none;outline:none;background:0 0;font-size:1.2em;font-weight:500;letter-spacing:-.625px;width:100px;-webkit-transition:all cubic-bezier(.15,1,.5,1) .8s;-o-transition:all cubic-bezier(.15,1,.5,1) .8s;transition:all cubic-bezier(.15,1,.5,1) .8s}@media screen and (min-width:760px){.post{margin:2em}}.post-content a{-webkit-transition:all .35s;transition:all .35s;color:#ff4e6a;text-decoration:none;position:relative;word-wrap:break-word}.post-content a:focus,.post-content a:hover{color:#ff4e6a}.post-content a::after{-webkit-transition:width .35s;transition:width .35s;content:"";right:0;width:0;bottom:-2px;position:absolute;border-bottom:1px solid}.post-content a:hover::after{left:0;width:100%}.post-content h1{position:relative;padding-bottom:10px}.post-content h1:before{content:"「";margin-right:5px;color:#ff6d6d}.post-content h1:after{content:"」";margin-left:5px;color:#ff6d6d}@media screen and (min-width:760px){#comments{margin:2em}}#comments .submit{border:1px solid #e9e9e9;border-radius:1px;padding:5px 10px;background:#fff}.comment-list,.comment-list ol{list-style:none;margin:0;padding:0}.comment-list li{padding:14px;margin-top:10px;border:1px solid #eee}.comment-list li.comment-level-even{background:#fff}.comment-list li.comment-by-author{background:#fff}.comment-list li .comment-reply{text-align:right;font-size:.92857em}.comment-meta a{color:#999;font-size:.92857em}.comment-author{display:block;margin-bottom:3px;color:#444}.comment-author .avatar{float:left;margin-right:10px;border-radius:100%;width:45px;height:45px}.comment-author cite{font-weight:700;font-style:normal}.respond .cancel-comment-reply{float:right;margin-top:15px;font-size:.92857em}#comment-form label{display:block;margin-bottom:.5em;font-weight:700}#comment-form .required:after{content:" *";color:#c00}#footer{padding:3em 0;line-height:1.5;text-align:center;color:#999}.post-content,.comment-content{line-height:1.5;word-wrap:break-word}.post-content img{max-width:100%}.post-content a img{background:#fff;position:relative;bottom:-4px}@media (min-width:1200px){.container{max-width:952px}}.container,.row [class*=col-]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.container{margin-left:auto;margin-right:auto;padding-left:10px;padding-right:10px}.row [class*=col-]{min-height:1px;padding-right:10px;padding-left:10px}.col-mb-12{width:100%}</style>
<link rel=canonical href=https://blog.xzr.moe/archives/313/>
<link rel=alternate type=application/rss+xml title="Horizon Kernel for Oneplus 8 series 过气版本补档 » LibXZR 的小本本 » RSS 2.0" href=https://blog.xzr.moe/feed/archives/313/>
<link rel=alternate type=application/rdf+xml title="Horizon Kernel for Oneplus 8 series 过气版本补档 » LibXZR 的小本本 » RSS 1.0" href=https://blog.xzr.moe/feed/rss/archives/313/>
<link rel=alternate type=application/atom+xml title="Horizon Kernel for Oneplus 8 series 过气版本补档 » LibXZR 的小本本 » ATOM 1.0" href=https://blog.xzr.moe/feed/atom/archives/313/>
<meta name=description content="补档由于 AKR 社区及其下载站已挂，于是在此处补档一个 Horizon Kernel 。先前发布的版本是 B1 到 R17 ，由于旧的代码基本上都被 force push 掉了，因此只能补档一...">
<meta name=keywords content="linux kernel,android">
<meta name=generator content="Typecho 1.3.0">
<meta name=template content=typecho-theme-i>
<meta property=og:type content=article>
<meta property=og:url content=https://blog.xzr.moe/archives/313/>
<meta name=twitter:title property=og:title itemprop=name content="Horizon Kernel for Oneplus 8 series 过气版本补档">
<meta name=twitter:description property=og:description itemprop=description content="补档由于 AKR 社区及其下载站已挂，于是在此处补档一个 Horizon Kernel 。先前发布的版本是 B1 到 R17 ，由于旧的代码基本上都被 force push 掉了，因此只能补档一...">
<meta property=og:site_name content="LibXZR 的小本本">
<meta name=twitter:card content=summary>
<meta name=twitter:domain content=blog.xzr.moe>
<style>@media (pointer:coarse){@media only screen and (max-device-width:1024px){}@media only screen and (max-device-width:414px){}@media only screen and (max-device-width:320px){}}</style><style>@media screen and (max-width:768px){}</style><style>/*!
 * Waves v0.7.5
 * http://fian.my.id/Waves
 * 
 * Copyright 2014-2016 Alfiana E. Sibuea and other contributors
 * Released under the MIT license
 * https://github.com/fians/Waves/blob/master/LICENSE
 */</style><style>@media (max-height:620px){}@media (max-height:783px){}@-webkit-keyframes srFadeInUp{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes srFadeInUp{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes srFadeInDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}}@keyframes srFadeInDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}}</style><style>@-webkit-keyframes fadeOutUp{0%{opacity:1}to{margin-top:0;padding:0;height:0;min-height:0;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0)}}@keyframes fadeOutUp{0%{opacity:1}to{margin-top:0;padding:0;height:0;min-height:0;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0)}}@media (pointer:coarse){}</style><style>:root{--sr-annote-color-0:#b4d9fb;--sr-annote-color-1:#ffeb3b;--sr-annote-color-2:#a2e9f2;--sr-annote-color-3:#a1e0ff;--sr-annote-color-4:#a8ea68;--sr-annote-color-5:#ffb7da}</style><style>@-webkit-keyframes sr-annote-slideInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes sr-annote-slideInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes sr-annote-slideInDown{0%{opacity:1;visibility:visible}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes sr-annote-slideInDown{0%{opacity:1;visibility:visible}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}</style><style>@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@-webkit-keyframes scaleAnimation{0%{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes scaleAnimation{0%{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}</style><style>@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}</style>
<style data-id=immersive-translate-default-injected-css>:root{--immersive-translate-theme-underline-borderColor:#72ece9;--immersive-translate-theme-nativeUnderline-borderColor:#72ece9;--immersive-translate-theme-nativeDashed-borderColor:#72ece9;--immersive-translate-theme-nativeDotted-borderColor:#72ece9;--immersive-translate-theme-highlight-backgroundColor:#ffff00;--immersive-translate-theme-dashed-borderColor:#59c1bd;--immersive-translate-theme-blockquote-borderColor:#cc3355;--immersive-translate-theme-thinDashed-borderColor:#ff374f;--immersive-translate-theme-dashedBorder-borderColor:#94a3b8;--immersive-translate-theme-dashedBorder-borderRadius:0;--immersive-translate-theme-solidBorder-borderColor:#94a3b8;--immersive-translate-theme-solidBorder-borderRadius:0;--immersive-translate-theme-dotted-borderColor:#94a3b8;--immersive-translate-theme-wavy-borderColor:#72ece9;--immersive-translate-theme-dividingLine-borderColor:#94a3b8;--immersive-translate-theme-grey-textColor:#2f4f4f;--immersive-translate-theme-marker-backgroundColor:#fbda41;--immersive-translate-theme-marker-backgroundColor-rgb:251,218,65;--immersive-translate-theme-marker2-backgroundColor:#ffff00;--immersive-translate-theme-opacity-opacity:10}.immersive-translate-target-translation-block-wrapper{margin:8px 0!important;display:inline-block}@media all and (min-width:750px){}@media only screen and (prefers-color-scheme:dark){}@-webkit-keyframes immersive-translate-loading-animation{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(359deg)}}@keyframes immersive-translate-loading-animation{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}</style><style data-id=immersive-translate-user-custom-style>:root{.immersive-translate-target-inner { font-family: inherit; }}</style><style data-id=immersive-translate-dynamic-injected-css>.immersive-translate-target-wrapper{word-break:break-word}</style><style data-id=immersive-translate-input-injected-css>@-webkit-keyframes immersive-translate-loading-animation{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(359deg)}}@keyframes immersive-translate-loading-animation{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes immersiveTranslateShadowRolling{0%{box-shadow:0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0)}12%{box-shadow:100px 0 var(--loading-color),0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0)}25%{box-shadow:110px 0 var(--loading-color),100px 0 var(--loading-color),0px 0 rgba(255,255,255,0),0px 0 rgba(255,255,255,0)}36%{box-shadow:120px 0 var(--loading-color),110px 0 var(--loading-color),100px 0 var(--loading-color),0px 0 rgba(255,255,255,0)}50%{box-shadow:130px 0 var(--loading-color),120px 0 var(--loading-color),110px 0 var(--loading-color),100px 0 var(--loading-color)}62%{box-shadow:200px 0 rgba(255,255,255,0),130px 0 var(--loading-color),120px 0 var(--loading-color),110px 0 var(--loading-color)}75%{box-shadow:200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0),130px 0 var(--loading-color),120px 0 var(--loading-color)}87%{box-shadow:200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0),130px 0 var(--loading-color)}100%{box-shadow:200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0),200px 0 rgba(255,255,255,0)}}@media (prefers-color-scheme:dark){}@media screen and (max-width:768px){}</style><meta name=referrer content=no-referrer><link rel=icon href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAALcUExURf///9HR0fX19fr6+vz8/AEBAQICAgAAAP7+/v39/SYmJikpKfn5+fv7+/f396mpqfj4+NLS0gcHBygoKDExMbCwsOfn59DQ0PDw8Do6OjIyMr29vQMDA+3t7dvb2wYGBnFxce7u7uzs7AUFBfPz8zU1NfLy8vT09Pb29tzc3Dk5OYeHh9/f37m5uRwcHIWFhaenp9XV1cHBwdbW1hISEoqKihMTEz4+PuXl5SUlJW5uboyMjBcXF4uLi3Jycm1tbbi4uOrq6p6enlRUVL+/v4+Pj+vr69PT0w8PD7Gxsc/Pzw4ODoKCgioqKhQUFICAgHBwcBEREYmJieTk5GBgYMnJye/v75GRkZKSknp6eqqqqhgYGM7OzsTExCcnJ8zMzN3d3cPDwx0dHenp6QwMDMLCwiQkJB4eHtra2hsbGzQ0NBYWFqKiora2trS0tAoKCqSkpDAwMCEhIcfHx01NTc3NzYSEhCMjI8vLy5OTk+Hh4VpaWubm5oGBgaysrAgICElJSWhoaNTU1KioqNnZ2dfX13R0dCsrK8DAwC8vL66uroaGho6OjkFBQSwsLMrKyr6+vpqamn19fVZWVkRERDY2NkVFRUJCQiIiIujo6DMzM7e3t8jIyOPj46amppCQkCAgIJeXl7u7u3t7e1JSUhkZGUpKSjc3N6GhoWJiYh8fH5iYmKCgoJ2dnZaWlpSUlPHx8Y2NjQsLC6urq1dXV1tbW0BAQHx8fE9PT7KysmtrawQEBF1dXUhISK+vr7q6umRkZLy8vC0tLeDg4GVlZRoaGkZGRq2trX9/f0xMTNjY2FVVVbW1tcXFxYiIiFhYWJ+fny4uLoODg1lZWWlpaXZ2dhUVFVFRUT8/Pw0NDW9vb3Nzc2pqaqOjo+Li4qWlpZmZmXd3dzs7OwkJCUtLS5ycnGZmZlBQUJWVlZubm35+fnh4eGNjYzw8PBAQEFNTU2dnZ19fX8bGxkNDQ/ymhfQAAAlaSURBVHjaxVuHWxXHFl+89zJ3kUvnwlVBUQSRpgJBMIIiqCAqUWIsRMWCElABo7EbY+81iVFjSbHHGmt6ecl7L733ntf7e//A23NmbzG5d3d2ZjcZP7k735zy25k5Z86cmZUk/pI5f/e5s1+19YtWytq2s2eqdhdIv0zpVLBzV3XbtR3h5Cfl9Hc3FsW6rVYf800z+Zlqb3GEO3pdGeG0THnGxPuL84he6dX02mRL1LvPlzgIY9mXa7r6Zfm3BSgIT7h2edOSpKSwJOV/rPKvZtrOuxNvzvAPxkPz7GaqTy4Pv+Xtb69afyFSdvqLLNtt6dNudgug6f2Waep/Xz8qQPCT3/03NTLULOnqCZihfxpoivqc0jv8MhPGViRrUsuV4+p7+ajTTNBffck/8kcrmUxsxT7fMCwTVW9f7B/7OQ8ws8VOVXmmrBJ8/Sm+t29fJBtglM94GfvWCOh/t7sqZWqPIUatqmC012KSeNWn7lVFjFzI5V2fUtwBsHeE8elf6e1ETyTnG4SpJtnxCs+ad8Wr/34b9xC+8gwVUTLBOO+H3smXL+JS56ouodQwZ6uqP2+4oBNV5VQa5ItSp/DUDFFHEqYaY5QxthcpW3GMuCftT0V9aIipSp3+LjPWkvlU2N0GWCooy4M2yZTyN5R2gt2YaxYgx6cuc/RL9h0o721mhteQvrmPafEEnYgLWAehlpJnmRhQPYsisxkXICS+bRuHnvSCEE7LjTL/xSRkwn1IPEw2rt/tIF1CmPtDIDNuGouUIuoAgr+KS8udyPEKY1nwtjvpWzHoH3g7kgZfwnfGkT2hWSNx7Qu+7MgPQts9DADGof41QdvWQ1OBDoBJwRsroW1GT/0tbxMCCBpOx3wMTaHH0Y7h0+bgsYtzIzQm6gIYhPqXB23bgm1LgorHv09A+8MhJK9F36q7JD0XugOkaGwLEhlH3ps3An4Pwc50aAjJWch9SEc/naz3hrDyODAldX3uN+sLeO2ZXynD2khIZ+yDOtI8PpTo6Si6VQfAdaQKtZnYrbS10cfJyuM6RT8h3aalKXuADuo2MkNHT8NR9ESdOLBJ21qfX96oPv0PY8V0sPzuMPdG64fN5bC7HqxN88hvAMBfGKz1cwzXfLsWhuktZdUpdPnaNG+hsGgGACnqPtxBf59mYHHlKoSvatOUobRUFo+dSAHUDmzYTshWln2LPFuh36+5tY6FaU4eZ9y0X9zbY14K+IA0tsDViSb2bYMGyUJ8KTPjgFtKA0hfOU+D4iACGGoVAIyLxs7XoDiJAB6xFED2Y7orodtSAIMGaFD8FWPBDKsAxIL4bY0aFJMUgs/WSJYC0OyBx2EzsMlaANkv6QD4T5j061kBDIHnMWsBaPqBPbDen7Iq2e5cAgCOLdIgyQeKUZ0sAiAPgFSjZur0CPqB4RYBcL2gCH9Dk+SMpQAy2xThH2mSnEUAKRYBWPIOGAHDGv+oRQDWtCjCi7RjYsxrFlmjPxnf7i7tUapHohxLAKxA2TqnWbscDEScZR0C6M8SFY+zBADmXXroEMVEYG48xgL9PWH30KtBj8yD/TTIAgD9QPAOXbLdCGCH+cuBvTNjguITRNDPdAAjWFM062ch5ddmA/gdbqPeZKDcgAAKTV4SV6B9b2fJvE0fiQieMhfAqyh0KRPtUnpOssJM/TQ3EMGWre7TjtQzokwEQHOPv2Wk7kr3vTPGm6afHllcSmWlV08ryGCT0uUTaO6zjJ0jW0XQrcEM/Z2o/g4jgc773msQreL6oxKorApDXIO9uZ+IsT0FlK8b9nm5eunlOYPHLxP9VxZqeQ9upRy/kO6zjTKv8l/aaOFNWbzoE1Gy0Dj3+PLVXvaHOQF4J3PhEb7jr5zDp+jNnTGcTikN0+fdv5zJP4sO9YXVsYU3RBqC7y8U538D45DAG6DEwCK4Wsil3qWRPWcoFYxp3NBerC9I2MIfikImt10gwqsG/Uf5bzA4N+tvhzTLPcC/VqAL/yE2hLYS4N9leOD8684beHmB25emHzV68A/lgQCWXDEAKXg/cGfAmLJ025yAg5EYOEuMT+YF4H4SAPj8uPxls0d/cYR04Dlf7e8QV2QJAVhdo6iurlAC9VSl9okuU9IthnuO4agqdBnarHB3TsfdwkZZ+lqpzUrXYwKYN6D3MaJ7Hq9C8QIYOEW9g3Rc+bVjkqNFd0JBDF6Dkeh0pbYJALTzXkbJGaNwb1W3di4EcEKXKWMBGZUsOa/SIzI4KCIbeV3ZXLjLWQvJG+XXJsXEEbJXf2NRSNplKUlZir/1Bvkvcwf0EBbVg+0NgyGwj6b9oV1cHeD64PxprhfAZu5N9WcQD8EAboMhcHoIydTn8kA3LVIPExFAglAPnIBwpJWQDOiB7Qyu6EfyI3oDPJoYIASgALbKB8CcEgmZJzlHkosMXNfJmD7STUIuQKVSCMB6ALARLN/tIN9LtktM2/ZnSVztnjhyBSsHhQCkghXcl0KlkujLbMmb84T88AwheKeBpn+5AUyHqPhjt9qVhS2EDGFZjUlAQmoVPHcRAhCOQeVQGuKzbHDsc4DyJK1ECwHIKiSqOUsyBleE6UwNb8IkB+QHuQGkIgB6ypOLeSaWIYCIhDiizACArpjas9QHt/mvM/H9kfhuXK0VAoCLETlIK3/2g9EtNS95lx+cAwe4w3qcTpfV2geE5BleVyfjJX/usBgTnH/wRmTHSo3nLxPFAGBQu1hkb5crBuBRmATFsgCArmIAUuB6ZbcJogAOiAFgTnGGBMBthtKF0aFv9xkA8B4/P14R3CcAAA6MSTz/LKoWvdkzXygoldT7uE/z8+NyfFwAAM2Z8h+gHBZN0tB7nI3c/JAoC08VAICejHzvFAGQJ5AolHruRwTrONntvSE6Ezp9OY8ALhrS6u7/5uL6oiS7egJVLPTpY/JpRKDe7vF94HhLxffVo6tT2sysVo/6bc/x2RswjLoqspiouUri6BJtk9LeuaOpJGJqfHx8ZyjxEVDivY8l+09PmRUX+M2lCuQDIf1S5nvqF0+lu64TrrJFDIDaBfxF/DB+uXGlcdv7eh+rhPVLtqsGVP+zuPTauNeXudLWQO2Hf98pmVBsp3zyu2QvzZ9UVldX1wNK2RcfTVpZdGRi1eD897e+nb3t2MnDjT63fWND+WLTvoev8PRugk/3npB+vRIVWz6mTDZZ6P8BwpGu7FiG5jwAAAAASUVORK5CYII=" sizes=16x16><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<header id=header data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=container data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=col-mb-12 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<h2 class=title data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Horizon Kernel for Oneplus 8 series 过气版本补档</h2>
<p class=description data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><time datetime=2023-06-05T21:26:00+00:00 itemprop=datePublished data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>2023-06-05</time></p>
</div>
<div class=col-mb-12 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<nav data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=https://blog.xzr.moe/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>首页</a>
<a href=https://blog.xzr.moe/navigation.html title=导航 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>导航</a>
<a href=https://blog.xzr.moe/about.html title=关于 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>关于</a>
<div class=search data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<form id=search method=post action=https://blog.xzr.moe/ role=search data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<input type=text id=s name=s class=text placeholder=/search data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 value>
</form>
</div>
</nav>
</div>
</div>
</header>
<div id=body data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=container data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=row data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=col-mb-12 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p style=margin-left:1% data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
所属分类：<a href=https://blog.xzr.moe/category/release/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>发布</a> &nbsp;&nbsp;&nbsp;&nbsp;
标签: <a href=https://blog.xzr.moe/tag/linux-kernel/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>linux kernel</a> <a href=https://blog.xzr.moe/tag/android/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>android</a> </p>
<hr data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<article class=post itemscope itemtype=http://schema.org/BlogPosting data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=post-content itemprop=articleBody data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><ol data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=#section-1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>补档</a></li>
<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=#section-2 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>编译方法</a></li>
<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=#section-3 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>原帖</a></li>
<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=#section-4 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>后记</a></li>
</ol></div><a id=section-1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2></a><h1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>补档</h1><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>由于 AKR 社区及其下载站已挂，于是在此处补档一个 Horizon Kernel 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>先前发布的版本是 B1 到 R17 ，由于旧的代码基本上都被 force push 掉了，因此只能补档一个之前不存在的 R18 版本。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>R18 版本在 R17 的基础上进行了一些上游更新和稳定性改进，不过都是很早以前的修改了，具体细节已经记不清了。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>另外还修复了 R17 上，设备温度高时可能导致部分处理器无负载的问题，这个是刚改的所以记得非常清楚。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>还有，如果你还记得我当年说 R18 版本里会有什么，那确实是有的，我没忘，你找找。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>下载：<ul data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8-OOS-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8 （氢/氧 11）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8-Lineage-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8 （11 底包的类原生）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8p-OOS-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8P （氢/氧 11）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8p-Lineage-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8P （11 底包的类原生）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8t-OOS-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8T （氢/氧 11）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/op8t-Lineage-Horizon-Kernel-R18.zip data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>一加 8T （11 底包的类原生）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/hkc-v1.1.apk data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>内核控制器（需要 root）</a><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://storage.xzr.moe/horizon-kernel-legacy/hkf-v1.3.apk data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>内核刷入器（需要 root）</a></ul><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>用法：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>先 root ，再用“内核刷入器”刷内核，有需要的话可以用“内核控制器”调节。</p><a id=section-2 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2></a><h1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>编译方法</h1><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>首先，创建工作空间，获取内核本体代码：<pre><code>$ mkdir workspace
$ cd workspace
$ git clone https://github.com/libxzr/android_kernel_oneplus_sm8250 -b oos11/final</code></pre><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>然后，获取内核压缩包的代码：<pre><code>$ git clone https://github.com/libxzr/AnyKernel3 -b op8/11</code></pre><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>然后，获取编译工具链，此处推荐 <a href=https://blog.xzr.moe/archives/314/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>Horizon Clang</a> ，R18 版本是基于其 16.x 版本编译测试的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>工具链在解压后放在 workspace 的 clang 目录处，不可有额外的目录嵌套，即需要确保 <code data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>workspace/clang/bin/clang</code> 是编译器的可执行文件。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>然后，获取内核本体中的 submodules：<pre><code>$ cd android_kernel_oneplus_sm8250
$ git submodule init
$ git submodule update</code></pre><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>参考的编译脚本：<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>horizon_build.sh<pre><code>#!/bin/bash
set -e

DIR="$( cd "$( dirname "$0"  )" &amp;&amp;cd ..&amp;&amp; pwd  )"
source="$( cd "$( dirname "$0"  )" &amp;&amp; pwd  )"

CLANG_PATH="${DIR}/clang"

args="-j$(nproc --all) \
O=out \
ARCH=arm64 \
CLANG_TRIPLE=aarch64-linux-gnu- \
CROSS_COMPILE=${CLANG_PATH}/bin/aarch64-linux-gnu- \
CC=${CLANG_PATH}/bin/clang \
CROSS_COMPILE_COMPAT=${CLANG_PATH}/bin/arm-linux-gnueabi- \
AR=${CLANG_PATH}/bin/llvm-ar \
NM=${CLANG_PATH}/bin/llvm-nm \
LLVM_AR=${CLANG_PATH}/bin/llvm-ar \
LLVM_NM=${CLANG_PATH}/bin/llvm-nm \
OBJCOPY=${CLANG_PATH}/bin/llvm-objcopy \
OBJDUMP=${CLANG_PATH}/bin/llvm-objdump \
STRIP=${CLANG_PATH}/bin/llvm-strip \
LD=${CLANG_PATH}/bin/ld.lld "

device="all"
clean="false"
action="build"
version="`date +"%m%d%H%M"`"
release="false"

print (){
case ${2} in
    "red")
    echo -e "\033[31m $1 \033[0m";;

    "blue")
    echo -e "\033[34m $1 \033[0m";;

    "yellow")
    echo -e "\033[33m $1 \033[0m";;

    "purple")
    echo -e "\033[35m $1 \033[0m";;

    "sky")
    echo -e "\033[36m $1 \033[0m";;

    "green")
    echo -e "\033[32m $1 \033[0m";;

    *)
    echo $1
    ;;
    esac
}

input=${*}

for i in ${input}
    do
        case ${i} in
            "op8")
            device="op8";;

            "op8p")
            device="op8p";;

            "op8t")
            device="op8t";;

            "all")
            device="all";;

            "--clean"|"-c"|"clean")
            clean="true";;
        *)
        did="false"

        if [[ $i =~ "-r=" ]];then
        release="true"&amp;&amp;version="${i#*r=}"&amp;&amp;did="true"
        fi

        if [[ $i =~ "-v=" ]];then
        version="${i#*v=}"&amp;&amp;did="true"
        fi
        
        if [ $did == "false" ]
        then
        print "Error input" red&amp;&amp;exit
        fi

        ;;
        esac
    done
    
mkzip (){
    if [ "${release}" == "true" ];then
    zipname="(${1})Horizon-Kernel-R${version}.zip"
    else
    zipname="(${1})Horizon-Kernel-${version}.zip"
    fi
    cp -f out/arch/arm64/boot/Image.gz ${DIR}/AnyKernel3
    #find ${source}/out/arch/arm64/boot/dts/vendor/qcom -name '*.dtb' -exec cat {} + &gt; ${DIR}/AnyKernel3/dtb
    cp ${source}/out/arch/arm64/boot/dts/vendor/qcom/kona-v2.1.dtb ${DIR}/AnyKernel3/dtb
    #cp ${source}/out/arch/arm64/boot/dts/vendor/qcom/instantnoodle-t0.dtb ${DIR}/AnyKernel3/dtb
    cp ${source}/out/arch/arm64/boot/dtbo.img ${DIR}/AnyKernel3
    cd ${DIR}/AnyKernel3
    zip -r "${zipname}" *
    cp -f "${zipname}" ${DIR}
    rm -f "${zipname}"
    cd ${source}
    print "All done.Find it at ${DIR}/$zipname" green
}
    
build_op8(){
    print "Building Kernel for op8..." blue
    make $args instantnoodle_defconfig&amp;&amp;make $args
    mkzip "op8${1}"
}

build_op8p(){
    print "Building Kernel for op8p..." blue
    make $args instantnoodlep_defconfig&amp;&amp;make $args
    mkzip "op8p${1}"
}

build_op8t(){
    print "Building Kernel for op8t..." blue
    make $args kebab_defconfig&amp;&amp;make $args
    mkzip "op8t${1}"
}

bclean(){
    rm -rf ${source}/out/arch/arm64/boot
}

clean(){
    if [ "${clean}" == "true" ]
    then
        print "Doing cleanups" red
        make ${args} mrproper
    else
        bclean
    fi
}

if [ "${action}" == "build" ]
then
    if [ $release == "true" ]
    then
        print "You are building a release version:R${version}" green
        args+="LOCALVERSION=-R${version} "
    else
        print "You are building a snapshot version:${version}" yellow
        args+="LOCALVERSION=-${version} "
    fi
    
    if [ ${device} == "all" ]
    then
        git reset --hard
        
        clean
        build_op8t "-OOS"
        
        bclean
        git apply lineage.diff
        build_op8t "-Lineage"
        git reset --hard
        
        bclean
        build_op8p "-OOS"
        
        bclean
        git apply lineage.diff
        build_op8p "-Lineage"
        git reset --hard
        
        bclean
        git apply lineage.diff
        build_op8 "-Lineage"
        git reset --hard
        
        bclean
        build_op8 "-OOS"
        
    elif [ ${device} == "op8" ]
    then
        clean
        build_op8
    elif [ ${device} == "op8p" ]
    then
        clean
        build_op8p
    elif [ ${device} == "op8t" ]
    then
        clean
        build_op8t
    fi
fi</code></pre><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>脚本要求的目录结构如下：<pre><code>workspace
├── AnyKernel3
├── android_kernel_oneplus_sm8250
│&nbsp;&nbsp; ├── horizon_build.sh
├── clang
│&nbsp;&nbsp; ├── bin
│&nbsp;&nbsp; │&nbsp;&nbsp; ├── clang</code></pre><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>workspace 的目录名称是无所谓的，只需要确保 <code data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>AnyKernel3</code> 和 <code data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>clang</code> 在内核源码文件夹的同级目录下即可，编译脚本则放在内核源码文件夹中。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>然后在内核源码文件夹中执行命令即可：<pre><code># 编译所有机型/系统的版本
./horizon_build.sh
# 编译所有机型/系统的版本（干净编译）
./horizon_build.sh -c

# 编译一加 8 的版本（仅氢氧）
./horizon_build.sh op8
# 编译一加 8 的版本（仅氢氧）（干净编译）
./horizon_build.sh op8 -c

# 编译一加 8P 的版本（仅氢氧）
./horizon_build.sh op8p
# 编译一加 8P 的版本（仅氢氧）（干净编译）
./horizon_build.sh op8p -c

# 编译一加 8T 的版本（仅氢氧）
./horizon_build.sh op8t
# 编译一加 8T 的版本（仅氢氧）（干净编译）
./horizon_build.sh op8t -c</code></pre><a id=section-3 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2></a><h1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>原帖</h1><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>实际上并不是原帖，真正的原帖已经挂了找不到了，这是把 XDA 上的帖子部分重新翻译了回来。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/usr/uploads/2023/06/239314569.png data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAAKIAQAAAAAgULygAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsESURBVHja7Zy9kuM2EsdBSjViMDViOFflKjG4B5gqJ448fJR5hKuLNjohcG4/wob3GLTLgcN5BNp1wWbH9U3AneMQV6REfJAA2KC0snz7/5U/RqRINhqN7kYTEGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADANbIqad/bNed5Xjz3hduvaDd6ii+koW1L+54Q/DIaSiPSfSLG8ssIRCe7jEAZ+T7ppTREtY3kMkb9KGjeQYj6MhoimmrL2PrajJp9qQLRbEhcrG2C6Kn3ooENeSlYc6EuIz5nK6qLaCii3uiF/XAWgdbn0uRbxL5Uo26uS6D4TzvsLydQDQ1dxi38H9tQBQ1dw1RiVqCnK9PbplZZRXEVGlpfmQ0l8nB6fcP+OgSK9GQZGvKRXYeYW1mfIxY/vrguq6/Xhq5GoKFOlcOGrmEudtUasrOSSYdoYENXFjL+JBpqVRoCG4JApwkUXzzwo8tOFqiChuyk0yn1hnkma5Hvo1qLcLtUzuHFxUaolRaPasBtJv57W3o+qpvsZ98oz1YV1J0LYZn7S43eGx8f9I8rdj9JjZdrqFA5klpMsZ1k2o+mvzJeUW/VS0BRnmjUiaHLJ09NxFD1amSPETevXPEzjLJ7Qw7umKUMtqvL96Sd7lsYNf9YLlChpWy3zG0Lxo0ejFN8fOBOU9lyDeXal6fekttbMbiAxOjZB49xkwXq2hR5Bm3rNKGb47+GvNlCgVLzi7mc+2c0RziYzXCex0d57xdriFMdlmnFja1RlFuRuyzpfGRGmtl2PVsbExg+tKsYDGp9skApe/srsV13ptnn7KP5wvrhLBrK2Atx0QX7mxFxGGfPtQpE/GCJ8UKBMqHaWQltSKXu+kTvhgvd3ovG4yLCYtleRSHB2ePwmGi8jGGjBa+dEELodYJWLbHpipeRML8QItBKhsWou8WOJFD3uFY/1TC2lwIVXZT+z1KBVJxemct2jucfhwRgoyTcdAI1eqyv9Q9F9wVPcTeeMc/W6ooHKYvegE3eTfxCbf6ZsDdWLrOhSDV1Yy7CO5x/lOeVhnoL0nt0p+dAXQa6E5VWCA/S0J3uF2s2CWaFvF4Gz305jr5Zr44b6kzGK9CD7he7u9y8G6dhkfmQTS/xBzNL6IbCX0rpHDJvh/kEiopxO+9vzDRswjf9f/9p+sVOyKd7Q8J6kQ1142W48jCe5ODozz8qf7I9GkpvQK1hIYfheTS2lShZd81mkQ19YyieT7xsoR8oVRbye2okJq32oINwS2OZnvdxcRDryZWGaXd71uWOe7uJ1HiIWLtQoI0tOUrtaY0x0c0zYXlMbki4RKB7i+L1edG9Q52fjIR5PRhwZnOUQQI9db1dM2dOlk1Ddy/uLyOvbnqddO0vqMTevO+/k0rams3OinPGG13G0sxkE3/ciJ1lobtDYw05uCmwiNWI4UNnfLJNE1qyw7ELFB3ddD5RfKxf+bvI27GBsF9YZFpJYVpfuuTFe9T7L1HLvOe4BESmI6Lq3GYhnfnRY676aBvp4fR45vHgYiNR9QcWOMbVISZVhgF81CZgCRN5989RwuHwd6N7Hr/w89Dr1cwCbadAt6M3MIVpyBV7YK+Ti974j9wsKg2ivskPOVuwLCkS5b7T/mpQ/hDEdkLWefZGx7RGPqtZyZAx7Zvjhf2B8HyoG/T/mpnSagLlrbvYYJ+fhArU5RnvtQeKoadUSHI6okR7mnydVMTDgXqRDd0z1mv1qAXeTiV+o7mVwNTHEzpePTbWqaGxzxMZS4X3gdUCgeJJImqJ0B9oTa7Cyr6xbzYvr44mgbpM3SEpay3PLy2F5jCBTBOpp+IWtOl6afZ1MhM53AK9aAPY0vG5W4jcCPbFuYz6eaayNqNBd52Je+0+9lVdNUsoJ+PMnYjyevx8NgklgRpaH69LHJX9mP3k1klkHdjZqV32aspRTESunEVYe8XLU7QgCVT7h48nEY3DaxsUgZ6nlmgeKRilfpC37tpfmEDFXA3UOerX/mvrZQJ9P1OZLE5bm5a1YQIl7O/G1GVqmh7b1LMPY0Y0Xxw64a20+aAzvtum3UozTW4P2aU9+9DSsfb4uPIkgcRS26TVVOgCCWckmjcFu8HmJ3VZ6rUYQlbjyQ+53xvFM96Gprq1K/twOcT81FFWTyQsiJZRjlI4cY5RFlmnZZTsY83CMmqnQDMhOWGLHXW7SKDMeXlLUGd1ip8g2lA1NsY20O1ExGBPE2j2S4krHUqC/ar/Wblz8DZkGx8puZ75ejw7kbE9N/VYhD0dimc0FtZl65CkNPGnmtV5jHoSvCtv5eiENs0IRFwrnHriYGAMjIMGgYqVZWDKkhAnBQ6BuPn/ybQs8whhZB/j3Dc9j1FbNB5e/Oa0C8MEoqzZsbuMdDZaLxJI9V3o+o2MGo3jkPjo9OCZI/v4bLOOieKDs498dsJLE6g2e2j+fmPtDkOOt+fQUOQcrC0xTcqD/WMcJOVQ0Oe+FpbWpjXEvo6DGiAV3wSbav1ZjJow6vzFmHz2qUECqUpn6NBek9f2xyEOeVB85PWd3Hq0JObicUhFYL14DwP9zW9QlyXO7KGxFmOmrpyfJlA8aed82pc5jJkTh2dMtwP1wiX2Ja1WK+GCfd5hXwZmH/NpB1Ggyq54Cvo+humaoSJIIFeiOSje5/xk9lHc6E8hO7CYnqe710bZemKjH11PBMnPYUPx7Ixdyz4Sm7+IF9pQ5vL/jWsuOO2JB/1LqTTGalmXtQ6/WBMaWFr6ZFhLuT7vsE9Ha2V8NzEXqeb0aVPsyybW454sZ1PqYQDejRwnP80xNo6IS58eGsuaV0ML1Gu/sI0m3DW4+czdZNQxt0etT16DZhUxpkx+jub1lXF/uU4knZ/kkwSqxu1s3QmdsJQAUrW4sphL02JvWcowc7UeJnfHvENvbqVao8PB6txdxuY2rJgurDKHYjENGEmIQLHdd+dqHtv4pxUHBb0OaopYQI0yJmQd0tVRFN/IMS+Xid5IHfFFm7HU2rxhHXm/J2GjdnGOf0Z4qxbsdaf6nR2H1Xm7bsHeTu4JGRaoRyLorfTamt7fSzfkXddWDyvV17Kzn4ZRFRFyR+IOvH5PKcENRYftJ4yxX+UdIq48v1hUzZG/fbbVtghpm04mO4PUT7BG/YpLtTmo24ezkftOVE/tRfHtIg0NozMqv1URzn/NY9+xv8nMsctpLaPh6x95uECp8i3dxqmaMmj/3WtXZNKi9vokpZWe6TbAhrR5r2Hfz3T3+Zs1nxGEtJrkqcV46lK5ZinHBghzd6WY5DVlkGN0ZBeC7tR+Mj++Wj1vFqAhbvtMz2neRm9C68mkLSx05JOe6TvrhVwf+XnU2dL4imp2vhj754mN1uXPhAl3bSroqFv5uXw/W6OMydUqfVSU3mj83bgH5V+/8skhkoZa2d6jaj8Y95ip8XzSLfC9o6+5a6TFc6mE/OPFF1BL7YvJWHW2vn4foqGykZqqlIZ/cHeqobKPxqkXprZajASlz6m20iLk9oNHfedqNHYAkdqDMPlVMOH47fOQrbcrKftOhkhj28O78RXqwH58aucq4fyBP/4GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAa+d/QTVwd9Tj2rgAAAAASUVORK5CYII=" alt title data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2></a><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><strong data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>这是一个聚焦于日常体验与功耗平衡的内核</strong><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>特性：<ul data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>基于 CAF "LA.UM.9.12.r1-12500-SMxx50.0" 版本重构 （实际上应该还要新一点，具体版本无从考证）<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 Clang 14 + polly + O3 + A55 优化 进行编译<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>内联编译了所有内核模块<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 lz4 作为 ZRAM 算法<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>移除大量调试代码与未使用驱动<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>支持使用 BBR 作为 TCP 拥塞控制算法（需要手动调整），默认采用 Westwood+ 算法<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 fq_codel 作为默认流控算法<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 128kB 的 IO 预读<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 urandom 作为默认的熵生成器<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>采用 schedhorizon 作为默认的 CPU 调速器<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>GPU 默认超频到 670 MHz<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Wireguard 支持<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>CIFS 支持<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>KCAL &amp; Klapse 支持<li data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>......</ul><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>上古更新日志：<pre><code>R17
- Merge CAF LA.UM.9.12.r1-12500-SMxx50.0
- Update dts to LA.UM.9.12.r1-12000-SMxx50.0
- Update ion drivers
- Update simple lmk drivers
- touchscreen: Adapt PM QoS usage to incoherent OnePlus code
- Slightly optimize performance on scrolling

R16.3
- Rebase on CAF msm-4.19 and remove all upstream linux stable changes ( Rollback to 4.19.157 )
( This could solve at least deep sleep issue and avoid a lot of potential issue )
- Inline the spin lock function family to improve performance
- Correct capacity value of big cluster in energy model

R16.2
- Merge Linux 4.19.198
- Revert back to old scheduling policy

R16.1
- Merge CAF "LA.UM.9.12.r1-12200-SMxx50.QSSI12.0"
- Further optimize on scheduling
- May fix a wlan connection problem introduced in last build

R16
- Linux 4.19.197
- Merge CAF "LA.UM.9.12.r1-12000-SMxx50.0"
- Rework scheduling policy
- Optimize touchscreen latency and interrupt CPU usage

R15.1
- Linux 4.19.196
- Fix kernel panic when screen casting with "windows connect"
- Fix UI lagging and inaccurate network speed when a proxy is running in the background
( This dropped BBR and set Westwood as default congestion algorithm )
- Move back to Simple LMK as lowmemory killer

Controller Update
- Add a switch for BBR congestion algorithm for those who need it

R15
- Merge CAF "LA.UM.9.12.r1-11800-SMxx50.QSSI12.0"
- Fix random lags on R14.3
- Relax performance restrictions for schedhorizon
- Move to 10ms for WALT window size for faster response
- Cleanup and optimize fuel gauger driver

R14.3
- Linux 4.19.195
- Fix google photos video lag on custom ROMs

R14.2
- Linux 4.19.193
- Move back to userspace lmkd to improve multitasking experience
- Synchronize oneplus changes from oss

R14.1
- Fix kernel panic when using terminal

R14
- Merge CAF "LA.UM.9.12.r1-11500-SMxx50.0"
- Merge Linux 4.19.192
- Optimize camera launching speed

R13.3
- Fix kernel panic when subsystems crash

R13.2
- Merge Linux 4.19.191
- Fix modem unable to reset after a crash
- Cleanup some more oneplus codes
- Custom build: Synchronize changes with LineageOS kernel and apply new FOD patches
Note: If you are facing disappeared fod, just wait for your maintainer to update fod on the ROM side.

R13.1
- Merge Linux 4.19.190
- Fix zram compression algorithm not setting to lz4 on kebab
- Perform PID map reads on the little CPU cluster

R13
- Merge CAF "LA.UM.9.12.r1-11300-SMxx50.0"
- Implement fuse short circuit to improve i/o performance under /sdcard
- Ignore modem crash event

R12.4
- Merge Linux 4.19.186 187 188 189
- Fix unable to apply system update on kebab
- 20X optimize PID map reads
- Increase vmstat interval to reduce overhead
- Fix kernel warning when triggering tri-state-key
- Apply some backports to vmalloc &amp; jump label
- Enable jump label for branch optimization
- Enable automatic compaction for ZRAM
- Upstream Simple LMK
- Some more I forgot

R12.3
- May fix some problems with pd charging
- Fix kernel panic when modem crash sometimes

R12.2
- Merge Linux 4.19.184 185
- Implement f2fs rapid gc from arter97
- Shorten auto-hiberate idle timer
- May fix kernel panic when modem crash sometimes

R12.1
- Fix random crash &amp; reboot ( mostly happends on 8T )

R12
- Merge Linux 4.19.183
- Merge CAF "LA.UM.9.12.r1-11000-SMxx50.0"
- Update lots of codes from oneplus oss
- Enable UFS HPB feature
- Add support for custom ROMs

R11.2
- Merge Linux 4.19.180 181 182
- Add haptic level adjustment
- Add back 1.2GHz for big cluster
- Move to rewritten ashmem driver by sultan

R11.1
- Merge CAF "LA.UM.9.12.r1-10800-SMxx50.0"
- Merge Linux 4.19.179
- Fix SurfaceFlinger spams errors in logcat

R11
- Merge CAF "LA.UM.9.12.r1-10700-SMxx50.0"
( Including kernel, wlan and audio, video techpacks )
- Merge Linux 4.19.178
- Upstream lz4 zram algorithm
- Hardcode swappiness to 160 for more aggressive zram strategy
- Enable 4GB ZRAM
- Add back 691mhz for small cluster
- Prevent EAS from affecting cpuidle
- Apply some more optimization patches

R10.5
- Merge Linux 4.19.177
- Remove cpu cooling &amp; devfreq cooling drivers
( Fix big cluster being limit at min freq sometimes when playing genshin impact )
- Improve deep sleep time under mobile data
- Apply some more optimization patches

R10.4
- Merge Linux 4.19.176
- Update kernel devicetree to "LA.UM.9.12.r1-10000-SMxx50.0"
- Add back lowest frequencies for big &amp; prime cluster
- Fix broken energy model due to inappropriate optimizations

R10.3
- Merge Linux 4.19.175
- Update display panel commands from qssi-user-11-RP1A.201005.001-2102011801-release-keys

R10.2
- Fix cyberpunk theme
- Fix cloud service on hydrogen os

R10.1
- Merge Linux 4.19.174
- Cleanup and optimize defconfig
- Simplify dtbo building
- Reduce zip size ~ 30%

R10
- Merge CAF "LA.UM.9.12.r1-10300-SMxx50.0"
( Including kernel, wlan and audio, display techpacks )
- Cleanup unused debug codes in wlan drivers
- Don't allow userspace trigger process reclaim
- Remove cpuidle sleep_disable usage in haptic drivers, and remove sleep_disable node from userspace.

R9.3
- Merge Linux 4.19.173
- Ship builds with zips

R9.2.1
- Fix blurred screen and crashes on some Oneplus 8P when playing videos with MEMC on.
- Oneplus 8 Pro Only

R9.2
- Merge Linux 4.19.172
- Fix ufs workqueue overheads
- Optimize memcpy, memmove, memcmp, crc32, checksum, xor libraries
- Affine unbound workqueues to little CPUs by default
- Make the devfreq monitor workqueue high priority
- Add automatic memory compaction mechanism
- More I forgot
- Theres no change in dtbo compared to R9.1, so no need to update

R9.1
- Merge Linux 4.19.168 169 170 171
- Move to simplified frequency table
- Fix wifi not working on new Chinese version of Oneplus 8T
- Don't limit CPU frequency when gaming
- Optimize GPU scheduling under high refresh rate
- Theres no change in dtbo compared to R9, so no need to update

R9
- Merge CAF "LA.UM.9.12.r1-10000-SMxx50.0"
( Including kernel, wlan and audio, video, display techpacks )
- Merge Linux 4.19.166
- Merge Linux 4.19.167
- Add support for checking cpu voltage via kernel logs
- Theres no change in dtbo compared to R8.4, so no need to update

R8.4
- Merge Linux 4.19.165
- Disable ZRAM &amp; SWAP
- Theres no change in dtbo compared to R8.3, so no need to update

R8.3
- Merge Linux 4.19.164
- Theres no change in dtbo compared to R8.2, so no need to update

R8.2
- Don't force run display &amp; touchscreen irqs and threads on big cluster to save power
- Remove max boost for little cluster on switching apps to save power
- Introduce dynamic cpuset for display group, migrating tasks to big cluster on switching apps to improve smoothness
- Fix lags when little cluster is under heavy load
- Relax touchscreen cpu latency requirement to save power
- Relax UFS cpu latency requirement to save power
- Align CPU latency requirements with kona C-States
- Remove iowait boost from schedhorizon
- Don't force 4k buffer allocations for ION
- Update Magisk in the image to v21.2
- Fix force 240hz fails after exiting a game
- Theres no change in dtbo compared to R8.1, so no need to update

R8.1
- Merge CAF "LA.UM.9.12.r1-09500-SMxx50.0"
( Including kernel, wlan and audio, video, display techpacks )
- Build oneplus param read/write drivers, cyberpunk theme should work now
- Optimize pm_qos usage for touchscreen drivers on OP8 &amp; OP8P
- Re-enable pm_qos usage for UFS drivers
- Use 100Hz timer frequency
- Never allow irq affine on more than one cpu
- Optimize pm_qos framework
- Optimize pm_qos usage for UFS drivers
- Optimize cpuidle framework
- Force run important display &amp; touchscreen &amp; lmk irqs and threads on big cluster
- Cleanup codes in kgsl &amp; display techpack and optimize pm_qos usage
- Move to rewritten iommu &amp; ion drivers
- ........... ( Check github for details )
- Theres no change in dtbo compared to R7.2, so no need to update

R7.2
- Merge Linux 4.19.163
- Theres no change in dtbo compared to R7.1, so no need to update

R7.1
- Merge Linux 4.19.162
- Re-enable lpm idle prediction
- Move to fq_codel qdisc
- Enable TCP ECN negotiation by default
- Don't force enable panel ULPS suspend
- Theres no change in dtbo compared to R7, so no need to update

R7
- Merge CAF "LA.UM.9.12.r1-09300-SMxx50.0"
( Including kernel and audio, display techpacks and wlan drivers )
- Merge Linux 4.19.161
- Build and enable vDSO32
Kernel Configuration | Android Open Source Project
source.android.com source.android.com
- Don't force offline big &amp; prime cluster on screen off ( Fix fp reject and lags on AOD )
- Move back to mem deep sleep mode
- Don't force 240Hz touchpanel sample rate on Oneplus 8T &amp; 8Pro ( But you can still enable it by writing 1 to /proc/touchpanel/force_game_switch_enable )
- Cleanup rx_wakelock codes in wlan drivers
- Force enable ULPS(Ultra Low Power State) and ULPS suspend for display panel
- Force allow panel phy power off on idle
- Re-align gpu idle timeout &amp; input boost duration with display panel ULPS delay
- Enable Clang ThinLTO optimizations
- Lower the priority of f2fs gc task
- Disable expedited RCU grace periods for powersave
- Remove display ramdump memory region (free 8MB of RAM)
- Disable cpuidle idle prediction feature for powersave
- Implement fast refcount checking for arm64
- Prefetch operands to speed up atomic operations
- More I forgot
- Theres no change in dtbo compared to R6.4, so no need to update

R6.4
- Merge linux 4.19.160
- Theres no change in dtbo compared to R6.3, so no need to update

R6.3
- Merge linux 4.19.159
- Theres no change in dtbo compared to R6.2, so no need to update

R6.2
- Merge linux 4.19.158
- Move to s2idle deep sleep mode
- Apply some touchscreen drivers' simplifying and optimizations
- Theres no change in dtbo compared to R6.1, so no need to update

R6.1
- Update Proton Clang version

dtbo image has been updated:
- Fix random kernel panic caused by freeing too much reserved memory

R6
- Merge Linux 4.19.157
- Merge CAF “LA.UM.9.12.r1-09000-SMxx50.0”
( Include kernel, wlan and audio, video, display techpacks )
- Update wireguard to v1.0.20201112
- Merge Simple Lmk update
- Force 240Hz touchpanel sample rate for Oneplus 8 Pro &amp; Oneplus 8T
- Touchpanel sample rate will no longer drop after switching to 60Hz screen refresh rate on Oneplus 8T &amp; Oneplus 8Pro
- Update magisk to v21.1

dtbo image has been updated:
- Remove unused reserved memory regions (~12MB)

R5.5
- Merge Linux 4.19.156
- Move to Simple Lmk as lowmemorykiller
- Disable userspace lmkd
- Enable userspace CNTVCT_EL0 access for vDSO to accelerate request
- Theres no change in dtbo compared to R5.4, so no need to update.

R5.4
- Merge Linux 4.19.155
- Theres no change in dtbo compared to R5.3, so no need to update.

R5.3
- Fix cpu cores oscillationally on/off on aod fingerprint pressing
- Fix logic of screen on/off detection
- Improve speed of aod fingerprint
- Theres no change in dtbo compared to R5.2, so no need to update.

R5.2
- Optimize logic of "Optimize fingerprint speed on aod mode"
- Fix priority of fingerprint hal not changing successfully
- Optimize smoothness when entering recent apps
- Optimize smoothness when switching between apps
- Optimize app launching speed
- Theres no change in dtbo compared to R5.1, so no need to update.

R5.1
- Optimize fingerprint speed on aod mode
- Theres no change in dtbo compared to R5, so no need to update.

R5
- Merge Linux 4.19.154
- Fix camera on Oneplus 8T
- Speed up mremap by 20x on large regions
- Disable Privileged Access Never emulation, speed up syscalls 2x
- Theres no change in dtbo compared to R4, so no need to update.

R4
- Merge Linux 4.19.153
- Merge CAF "LA.UM.9.12.r1-08900-SMxx50.0"
( Including kernel and wifi drivers, audio, video, display techpacks )
- Update boot image base to OOS OB3 for OP8 &amp; OP8P
- Camera on 8T havent been fixed on this build
- Theres no change in dtbo compared to R3, so no need to update.

R3
- Merge oneplus oss update
- Add support for Oneplus 8T
- Enable 1.2GHz input boost for big cluster
- Remove schedhorizon governor 1.6GHz(prime) 1.2GHz(big) efficient_freq
- Allow foreground apps migrate to big cluster on touch
- Relax boost duration on no input to 3s

UI Bench Result
- Jitter: ~0.3ms -&gt; ~0.2ms
- Total duration: ~4ms -&gt; ~3ms

- Dtbo image has been updated, reflashing is recommended

R2
- Merge Linux 4.19.152
- Merge CAF "LA.UM.9.12.r1-08600-SMxx50.0"
- Update wifi drivers to "LA.UM.9.12.r1-08600-SMxx50.0"
- Update display &amp; video techpacks to "LA.UM.9.12.r1-08600-SMxx50.0"
- Theres no change in dtbo compared to R1.1, so no need to update.

R1.1
- Merge Linux 4.19.151
- Theres no change in dtbo compared to R1, so no need to update.

R1
- Stable release is here
( Coz no one reports bug to me lol )
- Merge Linux 4.19.150
- Enable ntfs &amp; exfat drivers
- Theres no change on dtbo image compared to B2, so no need to update

B2
- Merge Linux 4.19.149
- Update audio &amp; video &amp; display techpacks to CAF "LA.UM.9.12.r1-08300-SMxx50.0"
- Add Klapse support
( Now you can turn brightness )
- Disable unused arm64 errata
- Disable wireless charging drivers for oneplus8
- Disbale iris drivers for oneplus8
- Start building dtbo image, flash it as you want.
( It could provide node /proc/touchpanel/glove_mode_enable for glove mode, you can write 1 to enable it )

B1
- Initial bring up</code></pre><a id=section-4 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2></a><h1 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>后记</h1><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>COS 13 的内核还是有希望的，因为我原来觉得官核挺好的，结果现在又发现挺烂的。</p> </div>
</article>
<hr data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div id=comments data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<h3 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>已有 49 条评论</h3>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-78 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=404 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-2)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>404</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-78 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-14T16:59:24+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 14th, 2023 at 04:59 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 14 日 在 下午 04 点 59 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，快更新COS 13 的内核，等哭了😭</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=78#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-80 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=清风 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>清风</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-80 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-19T11:39:11+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 19th, 2023 at 11:39 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 19 日 在 上午 11 点 39 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，在编译这个内核的时候出现了glibc2.3和2.34的nof found，是缺了什么应用库了吗？</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=80#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-81 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-81 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-19T14:19:24+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 19th, 2023 at 02:19 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>六月19th，2023 02时：下午19</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>如果你用的是 Horizon Clang 的话，这可能和你系统的 glibc 版本有关系。Horizon Clang 是在 Ubuntu 22.04 + glibc 2.35 的环境下编译的，如果你的系统 / glibc 版本比这个要老，是有可能报错跑不起来的，可以考虑换个 Clang 。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=81#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-84 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=青枫 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>青枫</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-84 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-22T06:03:41+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 22nd, 2023 at 06:03 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 22 日 在 凌晨 06 点 03 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>哦哦原来如此，谢谢大佬，我编译的就是这个内核，我换一个系统看看</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=84#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-82 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=404 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-2)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>404</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-82 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-20T23:33:12+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 20th, 2023 at 11:33 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 20 日 在 晚上 11 点 33 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，半个月过去了，COS 13的内核有消息了吗？😭</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=82#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-83 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-83 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-21T14:41:13+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 21st, 2023 at 02:41 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 21 日 在 下午 02 点 41 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>有自用的调试版本😋</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=83#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-85 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=404 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-2)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>404</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-85 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-23T19:38:20+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 23rd, 2023 at 07:38 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 23 日 在 晚上 07 点 38 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，大概还要多久才能等到😭</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=85#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-86 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-86 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-06-24T20:54:30+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>June 24th, 2023 at 08:54 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 6 月 24 日 在 晚上 08 点 54 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>未知</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=86#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-88 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=404 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-2)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>404</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-88 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-07-01T16:29:11+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>July 1st, 2023 at 04:29 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 7 月 1 日 在 下午 04：29</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>佬，可以先发一份调试版本给我看吗？😘</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-89 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==" alt=来潮 width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>来潮</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-89 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-07-10T14:28:10+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>July 10th, 2023 at 02:28 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 7 月 10 日 在 下午 02 点 28 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬cos13的内核有消息了吗😳</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=89#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-90 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=404 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-2)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>404</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-90 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-07-11T01:33:43+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>July 11th, 2023 at 01:33 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 7 月 11 日 在 凌晨 01 点 33 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>又是等COS 13 的内核的一天😭</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=90#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-92 class="comment-body comment-parent comment-even comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-92 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-07-13T21:53:39+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>July 13th, 2023 at 09:53 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 7 月 13 日 在 晚上 09 点 53 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>入职上班去了，内核上新时间未知😋</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=92#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-106 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==" alt=mronezc width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>mronezc<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>姆罗内兹</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-106 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-14T06:19:28+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 14th, 2023 at 06:19 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 14 日 在 凌晨 06 点 19 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>作者大大,最近想用c13官核做个kernelsu,听说oppo系列有的驱动源码和内核是分开的吗？是不是还要合并</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=106#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-107 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-107 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-15T19:33:09+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 15th, 2023 at 07:33 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 15 日 在 晚上 07 点 33 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>可以参照<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/libxzr/android_kernel_oneplus_sm8250/commit/77bfb98f685b6007933ddb2bf1e0d444ca902366</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=107#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-113 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=夏松 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>夏松</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-113 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-25T19:21:33+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 25th, 2023 at 07:21 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>八月25th，2023 07时：下午21</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>AR drivers/built-in.a<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>AR 驱动程序/built-in.a</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[1]: 离开目录“/root/workspace/android_kernel_oneplus_sm8250/out”<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make[1]： 离开目录“/root/workspace/android_kernel_oneplus_sm8250/out”</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make: *** [Makefile:146：sub-make] 错误 2<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make： *** [Makefile：146：sub-make] 错误 2</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>老大。这个是什么问题呀</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=113#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-114 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-114 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-26T11:08:26+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 26th, 2023 at 11:08 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 26 日 在 上午 11 点 08 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>日志里没啥有效信息，建议多整点日志然后扔 pastebin 里。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=114#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-115 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=夏松 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>夏松</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-115 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-27T13:28:24+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 27th, 2023 at 01:28 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 27 日 在 下午 01：28</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>老大你看一下<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://pastebin.com/M6dtsjya</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=115#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-116 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-116 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-28T19:40:03+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 28th, 2023 at 07:40 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 28 日 在 晚上 07：40</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>/bin/sh: 1: python2: not found<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>/bin/sh： 1： python2： 未找到</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[2]: *** [../arch/arm64/boot/Makefile:74：arch/arm64/boot/dtbo.img] 错误 127<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make[2]： *** [../arch/arm64/boot/Makefile：74：arch/arm64/boot/dtbo.img] 错误 127</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[1]: *** [arch/arm64/Makefile:204：dtbo.img] 错误 2<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make[1]： *** [arch/arm64/Makefile：204：dtbo.img] 错误 2</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[1]: *** 正在等待未完成的任务....<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>解决：sudo apt install python2</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=116#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-117 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACKElEQVRYw+2XT0gUURzHP783s+Ps2q6y0iKe7FJHow5BgaeIDkF0WDdvHTokK0KXTkGFhw4iSLCB0H2xLYLqEBIREmFdylApCNqwpKQydHXX/TddNp1ZN3bV1aHye5vve/O+X977vt/8RihD90h7ADgFHAFCgGJrKAI/gAngfjyS/GIfFJuwAnqBa0Az24MMMARciUeS2VUDJfFh4Dw7g1HgdDySzOglordcvNnbiqxtEABL2Z9kC+mqqwfMEJpoDi6dWySTT/1+PAFcBy5K90i7D5gBgmvnItw6M4Xp8ToWufG8jxefHlQ1MHDyCW2BfQ4uPjHAw3c37VQeOKADx+3i9nAIldjaINXf1IEuBRys/eisemfhsAJacA9BVYd7viW4Kr4JA+K2gbqHEH0jk88dusrZjktlO7HeVIu3dXsMNJlBmtaXjP8qhP+ggQ1lIP5mkMmvz/54Ga1SPPuOxgg1ttXfwFzqIx/mX1edlyus7GZg18BfZEBQRbfEBYXS8KTcMqChLyhT/FNuGfCIb1I3xDfaQGNmxVoy7RVtfOYRhmY4qtz35dmaFn41+5Tk/LSD+7zwvqwCNuCVwF0B6Ekc618szl0ukNuh5GvsUXtvD4fHI6pE9PtV6LFHzB34+Bj4VeitjhF1NHnRRKcJDOas9IUsyypv5bAo1qUNExSaeDDwYojvDkhPLDz2rWKXGU107ge6gI5Kf0ybRAqYBu4BL2PhsdWBX+Iqhw7rO7JOAAAAAElFTkSuQmCC alt=BlackHawk width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>BlackHawk<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>黑鹰</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-117 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-08-31T20:30:27+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>August 31st, 2023 at 08:30 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 8 月 31 日 在 晚上 08 点 30 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>感谢分享，已经集成Ksu了。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-131 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src=data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB62zaNqN6jTBtTieIJEELl8EZIIU4wOT+delfsRfDqx8c/F9r/VIVuLHQbU6gIXGVebcqx5HoCS31QV7L4Z+KR+Iv7cNhAI0itNGgvrGJv4nYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeL/Ez9iXx/wDD3S5dTtvsfiWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Dtf2itV0D9q678D6lMt94Z1WSG0gQqN1rO8a7CpHUMxAIP8AeyMYIPzh+2T8PbPwF8Y7ptPiWCz1SIXvlIMKkhYh8D3IDfVjXPleZYmpUhQxiV5x5otdV2fmdWb5VhaVKeIwLdoS5ZJ9H3XkaH7EXxGsfAvxfNjqkyW9jr1qdPE0hwqTblaPJ9CQV+riuq/aG/Zj8deF/iVe+LvA9pfaja3k5u1k0lm+1WszffwFO4gkkgr6kHHf5R6V758Pf21fiH4F0uHTZ57bxBZwqEjbUVYzIo6DzAQWH+8Cfet8bgsTDE/XcHZtq0ovZo5sBj8JUwn1HHXST5oyjumd1+zT+zV4yvfiTZeO/Hlrd6TYaZOL7dqrEXV3OvKZVjuABwxLdcADOSR5v+198RrX4h/F+6awkEtlpsQs1kU5DOGJcg+2Qv1U1J8Sf2w/H3xE0+TT/Pg0SxkG11sAwkcdwXJOP+AgH3rwyjBYLEzxP1zGWTStGK2SDH4/CU8J9RwN5KT5pSlu2f/Z alt=李凯 width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>李凯</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-131 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-11-16T11:00:19+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>November 16th, 2023 at 11:00 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 11 月 16 日 在 上午 11 点 00 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>请问集成Ksu需要修改内核目录下哪个配置文件。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=131#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-132 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-132 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-11-17T17:40:01+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>November 17th, 2023 at 05:40 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 11 月 17 日 在 下午 05：40</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>请参考 ksu 项目的相关文档</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=132#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-140 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=Coconutat width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://github.com/Coconutat rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Coconutat<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>椰子</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-140 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-12-20T16:44:55+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>December 20th, 2023 at 04:44 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 12 月 20 日 在 下午 04 点 44 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>大大，这个错误是为什么？<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
```<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
aarch64-linux-gnu-ld: warning: .tmp_vmlinux1 has a LOAD segment with RWX permissions<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>aarch64-linux-gnu-ld：警告：.tmp_vmlinux1 具有具有 RWX 权限的 LOAD 段</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
security/selinux/avc.o: in function `avc_disable':<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>security/selinux/avc.o：在函数“avc_disable”中：</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
avc.c:(.text+0x1604): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>avc.c：（.text+0x1604）： relocation cutned to fit： R_AARCH64_ADR_PREL_PG_HI21 against symbol 'selinux_state' in security/selinux/hooks.o 的 .bss.rtic 部分中定义</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
security/selinux/hooks.o: in function `selinux_set_mnt_opts':<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>security/selinux/hooks.o：在函数“selinux_set_mnt_opts”中：</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x400): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x400）：重新定位被截断以适合：根据 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x48c): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x48c）：重新定位被截断以适合：R_AARCH64_ADR_PREL_PG_HI21针对 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x6e4): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x6e4）：截断位置以适应：根据 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x784): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x784）：截断位置以适合：针对 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x804): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x804）：截断的重新定位以适应：根据 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0x830): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0x830）：截断位置以适合：根据 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
security/selinux/hooks.o: in function `may_context_mount_sb_relabel':<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>security/selinux/hooks.o：在函数“may_context_mount_sb_relabel”中：</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0xa14): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0xa14）：截断位置以适应：针对 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0xa48): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0xa48）：重新定位被截断以适合：根据 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
security/selinux/hooks.o: in function `may_context_mount_inode_relabel':<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>security/selinux/hooks.o：在函数“may_context_mount_inode_relabel”中：</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0xa88): relocation truncated to fit: R_AARCH64_ADR_PREL_PG_HI21 against symbol `selinux_state' defined in .bss.rtic section in security/selinux/hooks.o<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0xa88）：截断位置以适应：针对 security/selinux/hooks.o 的 .bss.rtic 部分中定义的符号“selinux_state”进行R_AARCH64_ADR_PREL_PG_HI21</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
hooks.c:(.text+0xabc): additional relocation overflows omitted from the output<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>hooks.c：（.text+0xabc）：输出中省略了额外的重定位溢出</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[1]: *** [/home/coconutat/Github/android_kernel_oneplus_Horizon/Makefile:1209: vmlinux] Error 1<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make[1]： *** [/home/coconutat/Github/android_kernel_oneplus_Horizon/Makefile：1209： vmlinux] 错误 1</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
make[1]: Leaving directory '/home/coconutat/Github/android_kernel_oneplus_Horizon/out'<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>make[1]： 离开目录 '/home/coconutat/Github/android_kernel_oneplus_Horizon/out'</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>```</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=140#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-142 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-142 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-12-20T21:04:50+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>December 20th, 2023 at 09:04 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 12 月 20 日 在 晚上 09 点 04 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>试试<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/libxzr/android_kernel_oneplus_sm8250/commit/6243e0eadd883f9abb41b17a5c2265d1910224dd</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=142#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-143 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=Coconutat width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://github.com/Coconutat rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Coconutat<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>椰子</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-143 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-12-21T19:04:06+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>December 21st, 2023 at 07:04 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 12 月 21 日 在 晚上 07 点 04 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>感谢，已经成功。昨天看到Proton-Clang的issue里有这个类似的提交。再次感谢大大。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=143#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-144 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=Coconutat width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-10)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://github.com/Coconutat rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Coconutat<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>椰子</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-144 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-12-22T16:17:44+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>December 22nd, 2023 at 04:17 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 12 月 22 日 在 下午 04 点 17 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大大，我想尝试上游内核，然后去Merge 安卓通用内核。但是我看到它内核版本和现在内核差距挺大的。能不能像v4.19.157..v4.19.158这样子Merge或者Cherry-pick。我之前都是Cherry-pick Linux-stable的代码，但是我发现它不是属于给安卓设计的代码，我觉得不太好。能否给个教程或者建议，谢谢。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=144#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-146 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-146 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2023-12-22T23:58:05+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>December 22nd, 2023 at 11:58 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2023 年 12 月 22 日 在 晚上 11 点 58 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>上游更新内核其实是个老大难问题了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>因为这里其实分为：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 厂家认为稳定的代码。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 高通认为稳定的代码。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 谷歌认为稳定代码。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- linux 社区认为稳定的代码。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>厂家开发版本时，会从高通那边拿一个 tag ，之后在上面完成开发/测试/交付，这个过程中 tag 一般是不会变的，即使有来自上游的必要补丁也会以增量的方式合入，不会因此而切换 base tag （为了确保每走一步都是在解决问题，而不会引入未知的新问题）。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>高通那边也是同理，先从谷歌的 kernel/common 拉一份代码，在上面完成开发/测试/交付，非必要不切换基线代码以避免引入未知问题，上游如果有必要的修复也会选择直接 cherry-pick 对应补丁而非合并上游。当然，高通还是比厂商要积极一些，偶尔还是会合并 kernel/common 的，比如 4.19 就从 113 合并到了 157 ，之后就进入了半死不活的“LTS 状态”，只是自己修修补补不再合并 kernel/common 了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>谷歌那边相对与时俱进一些，其在 linux-stable 上引入了安卓相关修改后，仍然会定期合并上游，几乎是每个 stable 版本都合，但似乎只是合并和解决冲突，以及确保 ABI 稳定（如果是 GKI 的话），对质量倒似乎没什么保障（不知道他们内部有没有跑什么测试之类的，还是单纯的编译能过就行），因此 kernel/common 出问题的概率其实是挺高的，linux-stable 引入的问题到 kernel/common 这里也不一定过滤的掉，比如之前就有 linux-stable 引入的 binder 修改导致 display 挂掉的，照样顺利进了 kernel/common ，但这种东西很明显是进不了 CAF / CLO 的 tag 的，至少高通内部测试的时候一定会发现。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>所以这么看过来，自己合并上游的时候可能面临以下冲突：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
1、厂家修改和高通修改 / 谷歌修改 / linux 社区修改的冲突，作为第三方内核这个就不考虑了。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
2、现有高通修改和上游谷歌修改的冲突。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
3、现有高通修改和 linux 上游修改的冲突。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
4、现有谷歌修改和 linux 上游修改的冲突。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>其实就是在 2、3、4 之间选，看哪个更好解决。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
直接合并谷歌的 kernel/common ，就要解决 2、3 ，但是不需要解决 4 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
直接合并 linux-stable 就要解决 3、4 ，但是不需要解决 2 。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>所以，如果难以解决上游谷歌修改和现有高通修改之间的冲突，可以选择直接合并 linux-stable ，并参照 kernel/common 解决 linux 上游与谷歌代码之间的冲突。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
如果难以解决 linux 上游修改和现有谷歌修改之间的冲突，可以选择直接合并 kernel/common ，但需要在没有参照的情况下自己解掉上游谷歌修改和现有高通修改之间的冲突。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
按照我之前的经验，上游谷歌修改和现有高通修改之间的冲突是更难解决的，至少 fs 和加密那块看得我头大，所以我会选择合并 linux-stable ，当然现在情况可能有所不同了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>至于怎么合并，我的建议是，新手不要自己合并，可以尝试利用现有项目，比如 https://github.com/LineageOS/android_kernel_qcom_sm8250/commits/lineage-20/ ，这里就提供了既合并高通上游又合并 kernel/common 外加自己测试和修复 bug 的代码，对于快速合并上游来说非常完美，而且稳定性也有一定保障。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>接下来回答你的问题，v4.19.157..v4.19.158 这样合并是可以的，每个版本都是有对应的发布 tag 的，可以在这里找到：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/refs<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
fetch 对应的 tag 然后一个一个向上合并就可以了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>至于合并 linux-stable 会不会不好，我觉得不至于，因为谷歌的 kernel/common 也是在一直合并 linux-stable 的。其实选择合并哪个上游，就是在“更新”和“更稳”之间抉择：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 合并 CAF / CLO ，能够获得高通的最新代码，较为稳定，但没有新的 linux 版本，也没有谷歌的新修改。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 合并 kernel/common ，能够获得谷歌和 linux 社区的最新代码，但可能与现有高通修改冲突，而且稳定性没有保障。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 合并 linux-stable ，能够获得 linux 社区的最新代码，可能与现有高通修改冲突，但可以避开上游谷歌代码与现有高通代码之间的冲突，稳定性也没有保障（虽然社区认为它 stable 了）。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>如果想要自己合的话，有几个建议：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
1、步子不要迈太大，一次不要合太多，合完及时编译上机测试，及时发现明显的问题。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
2、解决冲突不是二选一，更不是删掉冲突标记就完事。这个东西要读懂上下文代码，理解逻辑，理解怎么处理会发生什么事，才能决定下一步。当然，如果是自己玩玩那无所谓啦，毕竟经验有时候就是玩出来的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
3、处理冲突时，如果选择放弃上游更改，要完整的放弃。比如上游的 A commit 修改了 B、C、D 文件，其中 B 文件冲突了，很多人直接 git checkout b --ours 来放弃 B 的修改，但这是有问题的，因为 C、D 的修改还在那，理论上它们与 B 的修改是配套的，需要一起撤回。有时候不一起撤回不会有问题，有时候会导致编译错误，有时候会引入隐藏的问题，总之这个点需要特别注意。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
4、合完出版本了要多多炫耀分享，这样才会有进步的动力 (●'◡'●)<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>别的暂时想不到了，就这样吧。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=146#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-187 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-187 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-21T20:59:14+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 21st, 2024 at 08:59 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 21 日 在 晚上 08 点 59 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，您好。我想问一下，有尝试过合并一加 9 cos14 的内核吗，我发现在编译的时候它的内核代码里有很多报错，不知道要怎么去合并。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=187#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-188 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-188 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-22T11:00:39+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 22nd, 2024 at 11:00 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 22 日 在 上午 11 点 00 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>没有，但是道理应该差不多。在他们内部内核应该是放在 AOSP 的整个源码树中，由主编译系统负责构建的，所以会依赖上很多内核源码树外的东西，这些东西独立跑内核的时候得补回来，类似于：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/libxzr/android_kernel_oneplus_sm8250/commits/14d16b1ea371b9601cb807d24548d197b1ffe6ec/<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>对于 8350 来说，树外的内容有这两个仓库：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/OnePlusOSS/android_kernel_modules_and_devicetree_oneplus_sm8350<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/OnePlusOSS/android_vendor_qcom_opensource_audio_kernel_sm8350</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=188#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-189 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-189 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-26T20:41:58+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 26th, 2024 at 08:41 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 26 日 在 晚上 08 点 41 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>官方内核源码里没有配套的 defconfig 文件，想问一下大佬是怎么配置的</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=189#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-194 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-194 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-27T22:44:16+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 27th, 2024 at 10:44 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 27 日 在 晚上 10 点 44 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>对于高通的 GKI 内核，运行 ./scripts/gki/generate_defconfig.sh 即可生成对应 defconfig ，比如 ./scripts/gki/generate_defconfig.sh lahaina-gki_defconfig 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
（运行这个命令可能需要预先 `sudo apt install gcc-aarch64-linux-gnu`）<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>GKI 内核比较特殊，它的 config 是由好几层 config fragments 叠加而成的，基本上<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
对于生成的 lahaina-qgki_defconfig：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 底层是 gki_defconfig<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 向上是 vendor/lahaina_GKI.config（文件中的 =m 会被全部替换为 =y 来进行模块 inline）<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 再向上是 vendor/lahaina_QGKI.config<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>对于生成的 lahaina-gki_defconfig：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 底层是 gki_defconfig<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 向上是 vendor/lahaina_GKI.config<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>至于 gki 和 qgki 的区别，可以看看这篇文章 https://techyminati.hashnode.dev/android-kernel-dev ，一般我们用的都是 qgki 。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>官方内核源码里的对应 config 就是平台的对应 config ，sm8350 就是 lahaina ，oplus 的修改已经全部改在这些 config fragments 里面了。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=194#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-190 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-190 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-26T20:44:36+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 26th, 2024 at 08:44 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 26 日 在 晚上 08 点 44 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>有联系方式么，大佬</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=190#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-195 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-195 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-03-27T22:47:15+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>March 27th, 2024 at 10:47 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 3 月 27 日 在 晚上 10 点 47 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>不私聊答疑，有问题直接在这里问，这样有相同问题的其它人也能通过搜索引擎找到这里，意义更大</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=195#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-202 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-202 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-03T16:17:08+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 3rd, 2024 at 04:17 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 3 日 在 下午 04 点 17 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，我根据这个 https://github.com/libxzr/android_kernel_oneplus_sm8250/commits/14d16b1ea371b9601cb807d24548d197b1ffe6ec/ 成功合并了内核和驱动代码并最终编译完成，但是通过 magiskboot 对从手机分区 /dev/block/by-name/boot_a 提取出的镜像进行解包并替换编译生成的 Image ，重打包 boot_a.img 后，通过 flash flash boot_a new_boot.img 命令刷入设备中，但是无法开机。请问大佬如何查看日志进行调试呢</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=202#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-205 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-205 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-03T22:50:28+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 3rd, 2024 at 10:50 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 3 日 在 晚上 10 点 50 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>这种情况几乎没有调试方法，除非 pstore 工作正常然后能通过某种方式 warm reboot 启动到正常的系统，才能取得日志。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
厂家那边一般是工程机，主板上带 UART 焊点的，那就可以直接读日志了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>不开机的原因可太多了，主要看卡第一屏还是第二屏吧。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
第一屏（以及第一屏直接重启）<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- avb 捣乱。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 内核（dts 中的参数）与 bootloader 不匹配，典型的是 8 系从氢换底到 color 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 编译器不匹配，编译出的镜像本身是 broken 的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 关键基础框架/驱动的初始化失败（e.g. 合并上游时的 mismerge ）。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 关键 GKI 模块的加载失败（我没实际搞过 GKI ，但我估计这个可以是问题，见 https://blog.xzr.moe/archives/236/ ）。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>第二屏<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 一般均为内核侧初始化成功，但用户空间部分内容初始化失败。一般考虑是不是厂家修改没导全，如果做了 rebase ，考虑 CLO / CAF tag 是否可能与用户空间的 blobs 不匹配等，以及合并上游时是否可能存在 mismerge 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 内核模块的加载失败，参见 https://blog.xzr.moe/archives/236/ （仅限于非关键的模块）。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>由于你编译的是官方代码，基本可以排除合并上游和手动修改等引入的问题，因此建议：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 确保内核源码的分支与你的当前系统版本是匹配的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 禁用 avb 。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 尝试编译现有的第三方内核，比如 https://github.com/arter97/android_kernel_oneplus_sm8350 ，这些东西别人已经踩完了坑，只要编译流程 &amp; 编译器正确是必然能开机的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 尝试 inline 编译内核模块（ config 中的 =m 改为 =y ），从而避免模块加载失败造成的问题。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 使用 anykernel3 制作内核刷机包，辅助解包打包内核镜像 https://github.com/osm0sis/AnyKernel3 。虽然看起来你用 magiskboot 手动操作也没啥问题，但里面说不定有啥不对的地方呢？</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=205#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-207 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB6WzaNqN6jTBtTieIJEqFy+CMkYU4wOTj616V+xF8OrHxz8XmvtUhW4sdBtTqAhcZV5tyrHkegJLfVBXsnhj4pH4iftw2EAjSK00aC+sYm/ikYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeMfEz9ibx/8AD3S5dTtvsniWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Ctf2itV0D9q678D6lOt94Z1WWG0gQgbrWd412FSOoZiAQf72RjBB+cP2yPh9Z+AvjHdNp8SwWeqRC98pBhUkLEPge5Ab6sa58rzLE1KkKGMSvOPNFrquz8zqzfKsLSpTxGBbtCXLJPo+68jQ/Yi+I1j4F+L5sdUmW3sdetTp4mc4VJtytHk+hIK/VxXV/tDfsx+OvC/xKvfF3ge0vtQtLyc3ayaSzfarWZvv4CncQSSQV9SD7/KNe+fD39tT4h+BdMi02ee28QWcKhI21FWMyKOg8wEFv8AgQJ963xuCxMMT9dwdm2rSi9mjmwGPwlTCfUcddJPmjKO6Z3X7NP7NXjK9+JNl478eWt5pNhpk4vt2qsRdXc68plWO4AHDEtjOABnJI82/a++I1p8Q/i/dNp8gmstNiFmsinIZwxLkH2JC/VTUnxJ/bC8ffEXT5NP8+DRLGQFXXTwwkcHqC5Jx/wEA+9eG0YLBYmeK+u42yaVoxWyQY/H4SnhPqOBvJSfNKUt2z//2Q==" alt=trad width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>trad<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>传统</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-207 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-08T09:56:00+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 8th, 2024 at 09:56 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 8 日 在 上午 09 点 56 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，有适合一加8+ksu编译好的内核或者详细的编译内核教程吗，几天了连没集成ksu的官核都编不出来，各种内核编译报错，人麻了</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=207#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-208 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-208 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-08T10:13:27+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 8th, 2024 at 10:13 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 8 日 在 上午 10 点 13 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>上面的评论区和酷安的评论区我记得都有很多成功集成 ksu 的案例，可以去问问</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=208#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-209 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src=data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8i613Xw9+DfiH4gfELTfB62zaNqN6jTBtTieIJEELl8EZIIU4wOT+delfsRfDqx8c/F9r/VIVuLHQbU6gIXGVebcqx5HoCS31QV7L4Z+KR+Iv7cNhAI0itNGgvrGJv4nYRNvz7AqQB7E96/ZMdmk6NWpQoRu4Qcm+2mmnU/C8vyinXpUsRiJ2U5qKXfXXXoeL/Ez9iXx/wDD3S5dTtvsfiWxhUtL/Zpbz0UdSY2AJH+6Sfavn6v0Dtf2itV0D9q678D6lMt94Z1WSG0gQqN1rO8a7CpHUMxAIP8AeyMYIPzh+2T8PbPwF8Y7ptPiWCz1SIXvlIMKkhYh8D3IDfVjXPleZYmpUhQxiV5x5otdV2fmdWb5VhaVKeIwLdoS5ZJ9H3XkaH7EXxGsfAvxfNjqkyW9jr1qdPE0hwqTblaPJ9CQV+riuq/aG/Zj8deF/iVe+LvA9pfaja3k5u1k0lm+1WszffwFO4gkkgr6kHHf5R6V758Pf21fiH4F0uHTZ57bxBZwqEjbUVYzIo6DzAQWH+8Cfet8bgsTDE/XcHZtq0ovZo5sBj8JUwn1HHXST5oyjumd1+zT+zV4yvfiTZeO/Hlrd6TYaZOL7dqrEXV3OvKZVjuABwxLdcADOSR5v+198RrX4h/F+6awkEtlpsQs1kU5DOGJcg+2Qv1U1J8Sf2w/H3xE0+TT/Pg0SxkG11sAwkcdwXJOP+AgH3rwyjBYLEzxP1zGWTStGK2SDH4/CU8J9RwN5KT5pSlu2f/Z alt=lin width=32 height=32> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>lin<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>林</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-209 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-09T12:12:06+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 9th, 2024 at 12:12 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 9 日 在 下午 12 点 12 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>https://pastebin.com/gEBPDbFH<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
大佬这里编译失败是什么原因</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=209#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-210 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-210 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-09T13:22:55+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 9th, 2024 at 01:22 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 9 日 在 下午 01 点 22 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>关键词：unrecognized option '-EL'<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
修复：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/kdrag0n/proton_zf6/commit/6e87fec9a3df5<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://github.com/kdrag0n/proton_zf6/commit/68acd6966ac98<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
Ref：<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>裁判：</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
https://t.me/c/1160759313/71<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>但是，你这里报出问题的是 clang-9 ，而上面提及的问题发生在 clang-12 ，所以有可能这并不是一个合适的修复。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
建议：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 尝试上面的修复。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 不行的话，更换编译器。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 不管怎么样这个问题一定是编译器版本相关的。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=210#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-211 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-211 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-09T16:03:30+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 9th, 2024 at 04:03 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 9 日 在 下午 04 点 03 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，我突然发现 https://github.com/OnePlusOSS/android_kernel_oneplus_sm8350 的代码好像是一加 9 氢氧 os 系统的内核代码。一加 9 ColorOS 系统的代码是在这儿吗 https://github.com/oppo-source/android_kernel_oppo_sm8350/</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=211#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-212 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-212 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-09T18:41:14+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 9th, 2024 at 06:41 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 9 日 在 下午 06 点 41 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>从安卓 12 开始就没有氢了，氧只是魔改的 color 了，所以 11 分支的代码是之前氢氧的，12 之后的分支就是 color 和氧的了。看一看源码根目录里有没有 OplusKernelEnvConfig.mk ，有的话就是 color / 换皮氧的代码。至于 oppo-source ，欧加的机子本质上用的是同一套代码，比如一加 8 拿 find x2 的代码也能开机，所以要说 color 的代码在那也没啥毛病。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=212#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-213 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-213 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-10T19:47:54+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 10th, 2024 at 07:47 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 10 日 在 晚上 07 点 47 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>大佬，我终于到一加 9 ColorOS13.1 的官方源码编译完成了，通过修补 boot 的方式刷入了设备中，但是发现电池不显示电量也不能充电，usb 可以正常连接。之后我又刷了其他系统版本的 ColorOS 13.1，也是同样的现象。想问一下是什么配置没配么</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=213#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-214 class="comment-body comment-parent comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-214 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-10T20:42:08+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 10th, 2024 at 08:42 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 10 日 在 晚上 08 点 42 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>对了，sys/class/power_supply/ 目录是空的</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=214#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-215 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-215 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-11T16:18:44+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 11th, 2024 at 04:18 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 11 日 在 下午 04 点 18 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>注册在 power_supply 下面的驱动对应到源码中的 drivers/power ，可以重点关注一下这里的编译条件。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>drivers/power/Makefile<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
```<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
$(warning $(CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY))<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>$（警告 $（CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY））</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
ifeq ($(strip $(CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY)), y)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>ifeq （$（strip $（CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY））， y）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
else ifeq ($(strip $(CONFIG_CHG_FOR_OP9_PRO)), y)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>else ifeq （$（strip $（CONFIG_CHG_FOR_OP9_PRO））， y）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus_chg/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus_chg/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
else<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>还</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
endif<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>结束</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
```<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>根据 OplusKernelEnvConfig.mk 和 oplus_native_features.mk 的配置，它有时会编译该目录下的 oplus_chg/ ，有时又会去追踪一个软连接 oplus/ ，所以我觉得重点得先搞清楚当前源码触发的是哪个编译条件，是否与当前机型匹配，是否存在坏掉的链接（比如没有正确修复 oplus/ 的软链接）。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
建议：到 out 目录下面看看编译产物，先观察一下这块东西有没有被编译进去。如果有问题又不想研究它的那堆变量的话，那可以把别的条件分支全删了只留一个需要的。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=215#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-218 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=502 width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-11)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>502</cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-218 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-04-15T19:04:33+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>April 15th, 2024 at 07:04 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 4 月 15 日 在 晚上 07 点 04 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>drivers/power/Makefile 内容如下：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
'''<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
# SPDX-License-Identifier: GPL-2.0-only<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1># SPDX 许可证标识符：仅限 GPL-2.0</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_POWER_AVS) += avs/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_POWER_AVS） += AVS/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_POWER_RESET) += reset/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_POWER_RESET） += 重置/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_POWER_SUPPLY) += supply/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_POWER_SUPPLY） += 供应/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
#ifdef OPLUS_FEATURE_CHG_BASIC<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
$(warning $(CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY))<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>$（警告 $（CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY））</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
ifeq ($(strip $(CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY)), y)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>ifeq （$（strip $（CONFIG_OPLUS_CHG_OP9RT_PMIC_VOOCPHY））， y）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
else ifeq ($(strip $(BRAND_SHOW_FLAG)), oneplus)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>else ifeq （$（strip $（BRAND_SHOW_FLAG））， OnePlus）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus_chg/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus_chg/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
else<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>还</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
obj-$(CONFIG_OPLUS_SM8350_CHARGER) += oplus/<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>obj-$（CONFIG_OPLUS_SM8350_CHARGER） += oplus/</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
endif<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>结束</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
#endif<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
'''<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
ColorOS 系统需要的驱动是 oplus_chg，但是默认是 oplus。我尝试编译 oplus_chg 驱动，刷入手机后电量正常了。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
感谢大佬！！</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=218#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
<li itemscope itemtype=http://schema.org/UserComments id=comment-226 class="comment-body comment-parent comment-even" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=bruce width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-14)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>bruce<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>布鲁斯</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-226 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-05-09T16:56:55+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>May 9th, 2024 at 04:56 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 5 月 9 日 在 下午 04 点 56 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>大佬，<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
请教一下。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
关于官方最新的代码，https://github.com/OnePlusOSS/android_kernel_oneplus_sm8250/tree/oneplus/sm8250_u_14.0.0_op8t<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
编译出来的内核，在ColorOS14上 light sensor和magenet sensor都挂了， 这个可以从哪个地方排查问题？<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
这个是日志： https://pastebin.com/fa6yiYrG<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
从dmesg看出就是卡在 这HAL 上[ 24.700979] (4)[1:init]init: Control message: Could not find 'android.hardware.sensors@2.0::ISensors/default' for ctl.interface_start from pid: 712 (/system/bin/hwservicemanager)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>从dmesg看出就是卡在 这HAL 上[ 24.700979] （4）[1：init]init： Control message： Could not find 'android.hardware.sensors@2.0：：ISensors/default' for ctl.interface_start from pid： 712 （/system/bin/hwservicemanager）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
但是无法进一步查看到底是哪个地方出错了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>官方内核抓的日志（logcat），<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
正常应该是这样：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.357 1218 1218 I HidlServiceManagement: Registered android.hardware.sensors@2.0::ISensors/default<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.357 1218 1218 I HidlServiceManagement：已注册 android.hardware.sensors@2.0：：ISensors/default</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: mmc5603x Magnetometer Non-wakeup's max range 3000.000000000000 is not a multiple of the resolution 0.097599998116 - updated to 3000.028808593750<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W 传感器服务：mmc5603x 磁力计 Non-wakeup 的最大范围 3000.000000000000000 不是分辨率的倍数 0.097599998116 - 更新至 3000.028808593750</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: mmc5603x Magnetometer Wakeup's max range 3000.000000000000 is not a multiple of the resolution 0.097599998116 - updated to 3000.028808593750<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W 传感器服务：mmc5603x 磁力计 唤醒的最大范围 3000.00000000000000 不是分辨率 0.097599998116 的倍数 - 更新为 3000.028808593750</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: mmc5603x Magnetometer-Uncalibrated Non-wakeup's max range 3000.000000000000 is not a multiple of the resolution 0.097599998116 - updated to 3000.028808593750<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W 传感器服务：mmc5603x 磁力计-未校准 非唤醒的最大范围 3000.00000000000000 不是分辨率的倍数 0.097599998116 - 更新为 3000.028808593750</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: mmc5603x Magnetometer-Uncalibrated Wakeup's max range 3000.000000000000 is not a multiple of the resolution 0.097599998116 - updated to 3000.028808593750<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W 传感器服务：mmc5603x 磁力计-未校准 唤醒的最大范围 3000.00000000000000 不是分辨率的倍数 0.097599998116 - 更新为 3000.028808593750</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pedometer Non-wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：计步器 非唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pedometer Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：计步器 Wakeup 报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pedometer Non-wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：计步器 非唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pedometer Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：计步器 Wakeup 报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pick_up_motion Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：pick_up_motion 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: device_orient Non-wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：device_orient 非唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: device_orient Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：device_orient 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: free_fall Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：free_fall 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: sensor_logger Non-wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：sensor_logger 非唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: amd_oplus Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：amd_oplus Wakeup 报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: lux_aod Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：lux_aod 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: pedometer_minute Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：pedometer_minute唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: cmc_oplus Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：cmc_oplus唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: elevator_detect Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：elevator_detect 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: oplus_activity_recognition Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：oplus_activity_recognition 唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: context_aware Non-wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：context_aware 非唤醒报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 I SensorService: oca_detect Wakeup's reported power 0.000000 invalid, clamped to 0.001000<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 I SensorService：oca_detect Wakeup 报告的功率 0.000000 无效，钳位为 0.001000</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: SensorDevice, reset all of them.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W SensorService：SensorDevice，重置所有设备。</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.359 1850 2595 W SensorService: SensorDevice, reset bmi26x Accelerometer Non-wakeup hardware status.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.359 1850 2595 W SensorService：SensorDevice，重置 bmi26x 加速度计非唤醒硬件状态。</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.364 1850 2595 W SensorService: SensorDevice, reset bmi26x Accelerometer Wakeup hardware status.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.364 1850 2595 W SensorService：SensorDevice，重置 bmi26x 加速度计唤醒硬件状态。</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.367 1850 2595 W SensorService: SensorDevice, reset mmc5603x Magnetometer Non-wakeup hardware status.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.367 1850 2595 W SensorService：SensorDevice，重置 mmc5603x 磁力计 非唤醒硬件状态。</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.372 1850 2595 W SensorService: SensorDevice, reset mmc5603x Magnetometer Wakeup hardware status.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.372 1850 2595 W SensorService：SensorDevice，重置 mmc5603x 磁力计唤醒硬件状态。</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
05-09 01:28:10.379 1850 2595 W SensorService: SensorDevice, reset Rotation Vector Non-wakeup hardware status.<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>05-09 01：28：10.379 1850 2595 W SensorService：SensorDevice，重置旋转矢量非唤醒硬件状态。</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>DTBO.img 用了官方，也有问题。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
望指教！</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=226#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-227 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-227 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-05-09T23:32:13+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>May 9th, 2024 at 11:32 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 5 月 9 日 在 晚上 11 点 32 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>简单看了一下，感觉信息量有点不够。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
找不到 android.hardware.sensors 的原因是 sensor hal 没有起来，只要你没有对系统本身进行修改，没有起来 = 起不来 = 可能启动时崩溃了，但是 dmesg 里并没有给出 sensor hal 起不来的原因，建议再去看看 logcat ，sensor hal 在启动时有没有打印些什么报错，如果没有的话，就怀疑是 native crash 了，可以去 /data/tombstones 下面看看能不能找到 sensor hal 的崩溃记录，里面应该能看到造成崩溃的 signal 之类的。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>几种可能的情况：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 找到了 sensor hal 在 logcat 中的错误打印，那就照着原因去修（比如报错缺什么内核节点那就看看能不能补上）。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
- 找不到 sensor hal 的报错，但是有 tombstone ，而且退出信号比较无厘头，比如空指针的 SEGV 。这种就很棘手，本质上是欧加的工程师代码写太烂了，没处理好边界情况导致进程直接崩了，但是我们一时半会儿也很难摸出来这个“边界情况”到底是什么，只能祝好运了。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>sensor hal 起不来可能是因为 oplus 特有 sensor 相关代码没有被正确编译，oplus 特有的 sensor 代码位于 android_kernel_modules_and_devicetree_oneplus_sm8250 仓库中的 vendor/oplus/sensor/kernel/qcom/sensor ，可以观察一下里面的 makefile 看看有没有可能因为错误的编译条件造成驱动缺失，上面的评论里有个修电量的，也许可以借鉴一下思路。从 vendor/qcom/proprietary/devicetree-4.19/19805/kona-19805-sensor.dtsi 可见环境光传感器和磁传感器都向 vendor/oplus/sensor/kernel/qcom/sensor/oplus_sensor_devinfo.c 进行的注册，所以 oplus_sensor_devinfo 是否工作正常也许是一个可以下手的地方。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=227#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-228 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=Bruce width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-14)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Bruce<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>布鲁斯</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-228 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-05-11T11:12:52+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>May 11th, 2024 at 11:12 am<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 5 月 11 日 在 上午 11 点 12 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>感谢大佬回复。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
昨天抓了原包内核的日志<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
发现和自编译的区别：<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>正常工作的：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 15.167125] (5)[2211:oplus_sensor_fb]adsp_value = 2, node_type=0<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 15.167125] (5)[2211：oplus_sensor_fb]adsp_value = 2，node_type=0</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 15.167149] (6)[101:sensor_feedback]event_id =1000, count =0<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 15.167149] (6)[101：sensor_feedback]event_id =1000，计数 =0</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 15.167151] (6)[101:sensor_feedback]sensor_list virt_sns = 0xfe, phy_sns = 0x7b<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 15.167151] (6)[101：sensor_feedback]sensor_list virt_sns = 0xfe，phy_sns = 0x7b</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 15.167152] (6)[101:sensor_feedback]event_id =0, count =1<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 15.167152] (6)[101：sensor_feedback]event_id =0，计数 =1</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 15.167153] (6)[101:sensor_feedback]not find event_id =0, count =1<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 15.167153] (6)[101：sensor_feedback]找不到 event_id =0，计数 =1</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>自编译的是：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469343] (2)[101:sensor_feedback]event_id =1000, count =0<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469343] (2)[101：sensor_feedback]event_id =1000，计数 =0</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469348] (2)[101:sensor_feedback]sensor_list virt_sns = 0x98, phy_sns = 0x58<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469348] (2)[101：sensor_feedback]sensor_list virt_sns = 0x98，phy_sns = 0x58</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469351] (2)[101:sensor_feedback]event_id =1, count =1<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469351] (2)[101：sensor_feedback]event_id =1，计数 =1</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469356] (2)[101:sensor_feedback]payload1 =NULL$$EventField@@device_ps_init_fail$$FieldData@@2$$detailData@@0 0 0$$SensorName@@0x0<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469356] (2)[101：sensor_feedback]payload1 =NULL$$EventField@@device_ps_init_fail$$FieldData@@2$$detailData@@0 0 0$$SensorName@@0x0</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469423] (6)[236:fb_flush] fb_kevent_send_to_user<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469423] (6)[236：fb_flush] fb_kevent_send_to_user</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469424] (6)[236:fb_flush] data_len is 152<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469424] (6)[236：fb_flush] data_len是 152</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
[ 13.469452] (2)[101:sensor_feedback]send oplus kevent fb<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>[ 13.469452] (2)[101：sensor_feedback]发送 oPlus Kevent FB</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>感觉这应该就是报错的原因。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>对应的代码是：<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
static int parse_shr_info(struct sensor_fb_cxt *sensor_fb_cxt)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>静态 int parse_shr_info（struct sensor_fb_cxt *sensor_fb_cxt）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
{<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
int ret = 0;<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
int count = 0;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>int 计数 = 0;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
uint16_t event_id = 0;<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
int index = 0;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>int 索引 = 0;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
unsigned char payload[1024] = {0x00};<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>unsigned char 有效负载[1024] = {0x00};</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
int fb_len = 0;<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
unsigned char detail_buff[128] = {0x00};<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>无符号字符 detail_buff[128] = {0x00};</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> for (count = 0; count &lt; sensor_fb_cxt-&gt;adsp_event_counts; count ++) {<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>for （计数 = 0; 计数 &lt; sensor_fb_cxt-&gt;adsp_event_counts; 计数 ++） {</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
event_id = sensor_fb_cxt-&gt;fb_smem.event[count].event_id;<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
pr_info("event_id =%d, count =%d\n", event_id, count);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>pr_info（“event_id =%d， 计数 =%d\n”， event_id， 计数）;</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> index = find_event_id(event_id);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>索引 = find_event_id（event_id）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
if (index == -1) {<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>如果 （index == -1） {</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
pr_info("not find event_id =%d, count =%d\n", event_id, count);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>pr_info（“找不到event_id =%d， count =%d\n”， event_id， count）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
continue;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>继续;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> ret = procce_special_event_id(event_id, count, sensor_fb_cxt);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>ret = procce_special_event_id（event_id， count， sensor_fb_cxt）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
if (ret == 1) {<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>如果 （ret == 1） {</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
continue;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>继续;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> memset(payload, 0, sizeof(payload));<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>memset（有效载荷， 0， sizeof（有效载荷））;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
memset(detail_buff, 0, sizeof(detail_buff));<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>memset（detail_buff， 0， sizeof（detail_buff））;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
snprintf(detail_buff, sizeof(detail_buff), "%d %d %d",<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>snprintf（detail_buff， sizeof（detail_buff）， “%d %d %d”，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
sensor_fb_cxt-&gt;fb_smem.event[count].buff[0],<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>sensor_fb_cxt-&gt;fb_smem.event[count].buff[0]，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
sensor_fb_cxt-&gt;fb_smem.event[count].buff[1],<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>sensor_fb_cxt-&gt;fb_smem.event[count].buff[1]，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
sensor_fb_cxt-&gt;fb_smem.event[count].buff[2]);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>sensor_fb_cxt-&gt;fb_smem.event[count].buff[2]）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
fb_len += scnprintf(payload, sizeof(payload),<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>fb_len += scnprintf（有效载荷， sizeof（有效载荷），</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
"NULL$$EventField@@%s$$FieldData@@%d$$detailData@@%s$$SensorName@@0x%x",<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>“NULL$$EventField@@%s$$FieldData@@%d$$detailData@@%s$$SensorName@@0x%x”，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
g_fb_conf[index].fb_field,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>g_fb_conf[索引].fb_field，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
sensor_fb_cxt-&gt;fb_smem.event[count].count,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>sensor_fb_cxt-&gt;fb_smem.event[count].count，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
detail_buff,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>detail_buff，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
sensor_fb_cxt-&gt;fb_smem.event[count].name);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>sensor_fb_cxt-&gt;fb_smem.event[count].name）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
pr_info("payload1 =%s\n", payload);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>pr_info（“payload1 =%s\n”， 有效载荷）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
#if defined(CONFIG_OPLUS_FEATURE_FEEDBACK) || defined(CONFIG_OPLUS_FEATURE_FEEDBACK_MODULE)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>#if 定义（CONFIG_OPLUS_FEATURE_FEEDBACK） ||定义（CONFIG_OPLUS_FEATURE_FEEDBACK_MODULE）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
oplus_kevent_fb(FB_SENSOR, g_fb_conf[index].fb_event_id, payload);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>oplus_kevent_fb（FB_SENSOR， g_fb_conf[index].fb_event_id， 有效载荷）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
pr_info("send oplus kevent fb\n");<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>pr_info（“发送 oplus kevent fb\n”）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
#endif<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> return ret;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>返回 ret;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>官方的日志是，在循环的第二次获取的event_id 对应的是0， 而自编译的1， 就对应了 PS_INIT_FAIL_ID （PROXIMITY传感器初始化失败？）<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>这个event_id是通过read_data_from_share_mem， qcom_smem_get 获取到的，然后我就懵了。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
不知道该怎么排查了。。<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>#define SMEM_SENSOR_FEEDBACK (128)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>#define SMEM_SENSOR_FEEDBACK （128）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
static int read_data_from_share_mem(struct sensor_fb_cxt *sensor_fb_cxt)<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>静态 int read_data_from_share_mem（struct sensor_fb_cxt *sensor_fb_cxt）</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
{<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
size_t smem_size = 0;<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
void *smem_addr = NULL;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>void *smem_addr = 空;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
struct fb_event_smem *fb_event = NULL;<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> smem_addr = qcom_smem_get(QCOM_SMEM_HOST_ANY,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>smem_addr = qcom_smem_get（QCOM_SMEM_HOST_ANY，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
SMEM_SENSOR_FEEDBACK,<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>SMEM_SENSOR_FEEDBACK，</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
&amp;smem_size);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>&amp;smem_size）;</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> if (IS_ERR(smem_addr)) {<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>如果 （IS_ERR（smem_addr）） {</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
pr_err("unable to acquire smem SMEM_SENSOR_FEEDBACK entry\n");<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>pr_err（“无法SMEM_SENSOR_FEEDBACK条目获得 SMEM\n”）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
return -1;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>返回 -1;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> fb_event = (struct fb_event_smem *)smem_addr;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>fb_event = （结构 fb_event_smem *）smem_addr;</font></font></font><p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> if (fb_event == ERR_PTR(-EPROBE_DEFER)) {<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>如果 （fb_event == ERR_PTR（-EPROBE_DEFER）） {</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
fb_event = NULL;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>fb_event = 空;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
return -2;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>返回 -2;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1> memcpy((void *)&amp;sensor_fb_cxt-&gt;fb_smem, (void *)fb_event, smem_size);<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>memcpy（（无效 *）&amp;sensor_fb_cxt-&gt;fb_smem， （无效 *）fb_event， smem_size）;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
return 0;<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>返回 0;</font></font></font><br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
}</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=228#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-229 class="comment-body comment-child comment-level-odd comment-odd comment-by-author" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=LibXZR width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2><a href=https://blog.xzr.moe/ rel="external nofollow" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>LibXZR<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>LibXZR的</font></font></font></a></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-229 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-05-11T19:21:14+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>May 11th, 2024 at 07:21 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 5 月 11 日 在 晚上 07 点 21 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>这个是无解的，smem 是一块特殊的预留内存，用于 soc 片上组件之间的通信，adsp 可以理解为 cpu 之外的一个协处理器，一些要求低功耗且持续运行的任务会被 offload 上去，比如各种传感器还有熄屏语音唤醒之类的。<br data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
这里不知道是不是欧加改了 adsp 固件，adsp 会把传感器事件写在预留内存的特殊位置，然后内核在 adsp_notify 节点被写入的时候，会拉起 sensor_report_thread 线程去把传感器事件给读出来，然后发现有特殊事件的话就通过 oplus_kevent_fb 走 netlink socket 上报给用户空间的服务。所以原因只能是 adsp 上报的事件本身就有问题，或者其它原因间接导致了 adsp 的问题，这里的代码只牵扯到事件的上报，怎么修改都是无法解决根本问题的。所以，如果是 sensor 服务没有处理好那个事件上报导致 sensor 服务整个崩掉的话，那可以把 oplus_kevent_fb 屏蔽了试试，否则这里怎么修改应该都对问题的解决没有帮助。我觉得还是得先聚焦于 sensor 服务为什么会崩，去看看 sensor 服务本身有没有打印 logcat 或者 tombstone 吧。</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href="https://blog.xzr.moe/archives/313/?replyTo=229#respond-post-313" rel=nofollow data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>回复</a> </div>
<div class=comment-children itemprop=discusses data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<ol class=comment-list data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2> <li itemscope itemtype=http://schema.org/UserComments id=comment-230 class="comment-body comment-child comment-level-even comment-odd" data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=comment-author itemprop=creator itemscope itemtype=http://schema.org/Person data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<span itemprop=image data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<img class=avatar loading=lazy src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><rect fill-opacity="0"/></svg>' alt=Bruce width=32 height=32 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-14)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"> </span>
<cite class=fn itemprop=name data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Bruce<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>布鲁斯</font></font></font></cite>
</div>
<div class=comment-meta data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a href=#comment-230 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<time itemprop=commentTime datetime=2024-05-12T16:02:57+00:00 data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>May 12th, 2024 at 04:02 pm<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><br><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-block-wrapper-theme-none immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>2024 年 5 月 12 日 在 下午 04 点 02 分</font></font></font></time>
</a>
</div>
<div class=comment-content itemprop=commentText data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>非常感谢！</p> </div>
<div class=comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> </div>
</li>
</ol> <div id=respond-post-313 class=respond data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<div class=cancel-comment-reply data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<a id=cancel-comment-reply-link href=#respond-post-313 rel=nofollow style=display:none data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>取消回复</a> </div>
<h3 id=response data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>评论</h3>
<form method=post action=https://blog.xzr.moe/archives/313/comment id=comment-form role=form data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<label for=author class=required data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>称呼</label>
<input type=text name=author id=author class=text value required data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</p>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<label for=mail class=required data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2 data-immersive-translate-paragraph=1>Email<font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark=1 lang=zh-CN><font class=notranslate data-immersive-translate-translation-element-mark=1>&nbsp;</font><font class="notranslate immersive-translate-target-translation-theme-none immersive-translate-target-translation-inline-wrapper-theme-none immersive-translate-target-translation-inline-wrapper" data-immersive-translate-translation-element-mark=1><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-none-inner" data-immersive-translate-translation-element-mark=1>电子邮件</font></font></font></label>
<input type=email name=mail id=mail class=text value required data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</p>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<label for=url data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>网站</label>
<input type=url name=url id=url class=text placeholder=http:// value data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
</p>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<label for=textarea class=required data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>内容</label>
<textarea rows=8 cols=50 name=text id=textarea class=textarea placeholder="留下你的爪印 (要审核的)" required></textarea>
</p>
<p data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
<button type=submit class=submit>提交评论</button>
</p>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<footer id=footer role=contentinfo data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>
© 2024 <a href=https://blog.xzr.moe/ data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>LibXZR 的小本本</a>.
采用 <a href=https://creativecommons.org/licenses/by/4.0/deed.zh data-immersive-translate-walked=3476aa30-3c22-4504-a19c-37101378c8e2>CC BY 4.0</a> 协议.
</footer>
